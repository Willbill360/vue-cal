import{c as V,x as de,D as ee,V as Xe,W as w,r as ce,G as Be,J as Je}from"./index-CkdNpPiS.js";const te={texts:{weekDays:Array(7).fill(""),weekDaysShort:[],months:Array(12).fill(""),years:"",year:"",month:"",week:"",day:"",today:"",noEvent:"",allDay:"",deleteEvent:"",createEvent:"",dateFormat:"dddd MMMM D, YYYY",am:"am",pm:"pm",truncations:!0},availableViews:{day:{cols:1,rows:1},days:{cols:10,rows:1},week:{cols:7,rows:1},month:{cols:7,rows:6},year:{cols:4,rows:3},years:{cols:5,rows:5}}},at=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],Ge=["sun","mon","tue","wed","thu","fri","sat"],Ze=Ge.reduce((l,a,D)=>(l[a]=D||7,l),{}),qe=(l,a,D)=>{const{dateUtils:I}=l,R=!1,Y=V(()=>{if(z.value[a.view])return a.view;const u=a.datePicker?"month":"week",s=a.view||u;return z.value[s]?s:(console.warn(`Vue Cal: the provided or default view \`${s}\` is either invalid or not in the list of available views. The first available view will be chosen: \`${Object.keys(z.value)[0]}\`.`),Object.keys(z.value)[0])}),B=V(()=>a.sm&&!a.xs),p=V(()=>a.xs||a.datePicker),G=V(()=>a.clickToNavigate||a.datePicker&&a.clickToNavigate!==!1),N=V(()=>{const u={cell:{},event:{}},s=f=>f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();for(const[f,n]of Object.entries(D)){const[y,M,C]=f.match(/^on(Cell|Event)(.+)$/)||[];y&&(u[M.toLowerCase()][s(C).replace(/^-+|-+$/g,"")]=n)}return u}),x=V(()=>{var s;const u={};return a.hideWeekends&&(u[6]=!0)&&(u[7]=!0),(s=a.hideWeekdays)!=null&&s.length&&a.hideWeekdays.forEach(f=>u[Ze[f]]=!0),u}),k=V(()=>a.hideWeekends||x.value[6]&&x.value[7]),z=V(()=>{const u=a.datePicker;let s=0,f={};const n=a.views;return u&&!n?{month:{...te.availableViews.month},year:{...te.availableViews.year},years:{...te.availableViews.years}}:(n?(Array.isArray(n)?f=n.reduce((y,M)=>(typeof M=="string"&&te.availableViews[M]?y[M]=te.availableViews[M]:s++,y),{}):typeof n=="object"&&(f=Object.entries(n).reduce((y,[M,C])=>{const{cols:P,rows:A}=te.availableViews[M];return y[M]={cols:C.cols||P,rows:C.rows||A},y},{})),s&&console.warn("Vue Cal: the provided `views` prop contains invalid views that will be ignored."),Object.keys(f).length||(console.warn("Vue Cal: No valid view in the provided `views` prop. Falling back to default views."),f={...te.availableViews})):f={...te.availableViews},f)}),q=V(()=>a.datePicker?"month":z.value.week?"week":Object.keys(z.value)[0]),o=V(()=>{if(typeof a.selectedDate=="string")return I.stringToDate(a.selectedDate);if(a.selectedDate instanceof Date)return a.selectedDate;a.selectedDate?console.warn("Vue Cal: The provided selected date is invalid:",a.selectedDate):console.log("Vue Cal: Info - The provided selected date is undefined.")}),Z=V(()=>{if(!a.disableDays)return[];const u=[];if(Array.isArray(a.disableDays))for(let s of a.disableDays){let f=s;typeof s=="string"?f=I.stringToDate(s):s instanceof Date&&(s=I.formatDate(s,"YYYY-MM-DD")),f instanceof Date&&!isNaN(f.getTime())?u.push(s):console.warn("Vue Cal: The provided `disableDays` prop contains an invalid date:",s)}else console.warn("Vue Cal: The provided `disableDays` prop is invalid:",a.disableDays);return u}),_=V(()=>{let u=null;return a.minDate&&typeof a.minDate=="string"?u=I.stringToDate(a.minDate):a.minDate&&a.minDate instanceof Date&&(u=a.minDate),(u==null?void 0:u.getTime())||null}),E=V(()=>{let u=null;return a.maxDate&&typeof a.maxDate=="string"?u=I.stringToDate(a.maxDate):a.maxDate&&a.maxDate instanceof Date&&(u=a.maxDate),(u==null?void 0:u.getTime())||null}),$=V(()=>{var f;const{view:u}=l;return a.schedules.length&&(u.isDay||u.isDays||u.isWeek)&&((f=a.schedules)==null?void 0:f.map((n,y)=>({...n,id:n.id??y+1})))||void 0}),e=V(()=>{const u={drag:!0,resize:!0,delete:!0,create:!0};return a.editableEvents===!0?u:a.editableEvents===!1?Object.keys(u).map(s=>u[s]=!1):{...u,...a.editableEvents}}),g=V(()=>{const{view:u}=l,{eventCount:s}=a;return(Array.isArray(s)?s.includes(u.id):s)&&(u.isMonth&&!a.eventsOnMonthView||u.isYear)}),h=V(()=>a.allDayEvents&&a.time!==!1&&!Y.isMonth),m=V(()=>a.timeAtCursor&&a.time!==!1),v=async u=>{var f;let s=Object.assign({"../i18n/ar.json":()=>w(()=>import("./ar-BgL0e-US.js"),[]).then(n=>n.default),"../i18n/bg.json":()=>w(()=>import("./bg-B9bio1qW.js"),[]).then(n=>n.default),"../i18n/bn.json":()=>w(()=>import("./bn-0ENUmuHY.js"),[]).then(n=>n.default),"../i18n/bs.json":()=>w(()=>import("./bs-LrTpqKaV.js"),[]).then(n=>n.default),"../i18n/ca.json":()=>w(()=>import("./ca-BNzwY8AQ.js"),[]).then(n=>n.default),"../i18n/cs.json":()=>w(()=>import("./cs-BKu9qpIc.js"),[]).then(n=>n.default),"../i18n/da.json":()=>w(()=>import("./da-Bzq3aJPY.js"),[]).then(n=>n.default),"../i18n/de.json":()=>w(()=>import("./de-DxvdjJyS.js"),[]).then(n=>n.default),"../i18n/el.json":()=>w(()=>import("./el-BijjcpDW.js"),[]).then(n=>n.default),"../i18n/en-gb.json":()=>w(()=>import("./en-gb-BN6UPcbr.js"),[]).then(n=>n.default),"../i18n/en-us.json":()=>w(()=>Promise.resolve().then(()=>tt),void 0).then(n=>n.default),"../i18n/es.json":()=>w(()=>import("./es-B09aix2b.js"),[]).then(n=>n.default),"../i18n/et.json":()=>w(()=>import("./et-BN0u-wFS.js"),[]).then(n=>n.default),"../i18n/fa.json":()=>w(()=>import("./fa-CpAJGCrY.js"),[]).then(n=>n.default),"../i18n/fi.json":()=>w(()=>import("./fi-C3bvOL2F.js"),[]).then(n=>n.default),"../i18n/fr.json":()=>w(()=>import("./fr-GKuwB6u6.js"),[]).then(n=>n.default),"../i18n/he.json":()=>w(()=>import("./he-BHiXGmJj.js"),[]).then(n=>n.default),"../i18n/hr.json":()=>w(()=>import("./hr-DzfVcLED.js"),[]).then(n=>n.default),"../i18n/hu.json":()=>w(()=>import("./hu-D5f_-VfF.js"),[]).then(n=>n.default),"../i18n/id.json":()=>w(()=>import("./id-C4V9iQKh.js"),[]).then(n=>n.default),"../i18n/is.json":()=>w(()=>import("./is-BWBbdtI7.js"),[]).then(n=>n.default),"../i18n/it.json":()=>w(()=>import("./it-BYE8Pv4L.js"),[]).then(n=>n.default),"../i18n/ja.json":()=>w(()=>import("./ja-B8msjcsp.js"),[]).then(n=>n.default),"../i18n/ka.json":()=>w(()=>import("./ka-DQi2yEGJ.js"),[]).then(n=>n.default),"../i18n/kaa.json":()=>w(()=>import("./kaa-DaMxLk9y.js"),[]).then(n=>n.default),"../i18n/kk.json":()=>w(()=>import("./kk-4mxrIsUV.js"),[]).then(n=>n.default),"../i18n/ko.json":()=>w(()=>import("./ko-AocIJJnA.js"),[]).then(n=>n.default),"../i18n/ky.json":()=>w(()=>import("./ky-BD3JJAAP.js"),[]).then(n=>n.default),"../i18n/lt.json":()=>w(()=>import("./lt-CSQtJejA.js"),[]).then(n=>n.default),"../i18n/mn.json":()=>w(()=>import("./mn-BJnxERff.js"),[]).then(n=>n.default),"../i18n/nl.json":()=>w(()=>import("./nl-CF0acleB.js"),[]).then(n=>n.default),"../i18n/no.json":()=>w(()=>import("./no-BGhZJ8qx.js"),[]).then(n=>n.default),"../i18n/pl.json":()=>w(()=>import("./pl-CbNmkzff.js"),[]).then(n=>n.default),"../i18n/pt-br.json":()=>w(()=>import("./pt-br-CNJ2qZf8.js"),[]).then(n=>n.default),"../i18n/pt-pt.json":()=>w(()=>import("./pt-pt-CNJ2qZf8.js"),[]).then(n=>n.default),"../i18n/ro.json":()=>w(()=>import("./ro-jPnrebdN.js"),[]).then(n=>n.default),"../i18n/ru.json":()=>w(()=>import("./ru-Dg56i-yU.js"),[]).then(n=>n.default),"../i18n/sk.json":()=>w(()=>import("./sk-DWxkOgqG.js"),[]).then(n=>n.default),"../i18n/sl.json":()=>w(()=>import("./sl-BREPxRb5.js"),[]).then(n=>n.default),"../i18n/sq.json":()=>w(()=>import("./sq-txfbjBxq.js"),[]).then(n=>n.default),"../i18n/sr.json":()=>w(()=>import("./sr-Tj68iq_e.js"),[]).then(n=>n.default),"../i18n/sv.json":()=>w(()=>import("./sv-DytNY891.js"),[]).then(n=>n.default),"../i18n/tr.json":()=>w(()=>import("./tr-C8S6NMuF.js"),[]).then(n=>n.default),"../i18n/uk.json":()=>w(()=>import("./uk-Ca_EQAdD.js"),[]).then(n=>n.default),"../i18n/uz-cryl.json":()=>w(()=>import("./uz-cryl-CHkFNWUU.js"),[]).then(n=>n.default),"../i18n/uz.json":()=>w(()=>import("./uz-7_H-3_ey.js"),[]).then(n=>n.default),"../i18n/vi.json":()=>w(()=>import("./vi-0TvgrJx7.js"),[]).then(n=>n.default),"../i18n/zh-cn.json":()=>w(()=>import("./zh-cn-C_KCVIlc.js"),[]).then(n=>n.default),"../i18n/zh-hk.json":()=>w(()=>import("./zh-hk-D2YpcFnT.js"),[]).then(n=>n.default)});{if(!s[`../i18n/${u}.json`]){console.warn(`Vue Cal: the locale \`${u}\` does not exist. Falling back to \`en-us\`.`),u="en-us";return}s=await((f=s[`../i18n/${u}.json`])==null?void 0:f.call(s))}l.texts=Object.assign(l.texts,Object.assign({...te.texts},s)),I.updateTexts(l.texts)},c=de(a.events||[]);return ee(()=>a.events,u=>c.splice(0,c.length,...u)),ee(()=>a.locale,u=>v(u||"en-us")),(a.locale||!l.texts.today)&&v(a.locale||"en-us"),{...Xe(a),events:c,eventListeners:N,defaultView:q,availableViews:z,disableDays:Z,ready:R,sm:B,xs:p,clickToNavigate:G,hideWeekdays:x,hideWeekends:k,minTimestamp:_,maxTimestamp:E,schedules:$,selectedDate:o,editableEvents:e,showCellEventCount:g,allDayEvents:h,timeAtCursor:m,view:Y,get hasHiddenDays(){return Object.keys(x.value).length},get size(){return p.value?"xs":B.value?"sm":"lg"},loadTexts:v}},st=(l,a)=>{const D=a.timeTo-a.timeFrom;return(l-a.timeFrom)*100/D},Te=(l,a)=>{const D=a.timeTo-a.timeFrom;return~~(l*D/100+a.timeFrom)},Ke=(l,a)=>{const D=a.clientHeight;return l*100/D},he=de({id:null,date:null});let Ee=!1,_e=!0;const ne=de({el:null,cell:null,timeout:null}),ae=de({eventId:null,fromVueCal:null,toVueCal:null});function Qe(l){const{config:a,view:D,eventsManager:I,emit:R,uid:Y,dateUtils:B}=l,p=_=>{var v;const{timeStep:E,timeCellHeight:$,timeFrom:e}=a,g=(((v=_.touches)==null?void 0:v[0])||_).clientY,{top:h}=_.currentTarget.getBoundingClientRect(),m=g-h-~~_.dataTransfer.getData("cursor-grab-at");return Te(Ke(m,_.currentTarget),a)},G=(_,E,$)=>{const e=E.duration||N(E.start,E.end)||a.timeStep;let g=Math.max(p(_),0);if(a.snapToInterval){const c=g+a.snapToInterval/2;g=c-c%a.snapToInterval}const h=new Date(new Date($).setMinutes(g)),m=Math.min(g+e,1440),v=new Date(new Date($).setMinutes(m));return{start:h,end:v}},N=(_,E)=>Math.round((E-_)/6e4);return{eventDragStart:(_,E)=>{if(_.target.nodeType===3||l.touch.isResizingEvent)return _.preventDefault();_.dataTransfer.effectAllowed="move",_.dataTransfer.dropEffect="move";const $={...E,_:{id:E._.id,duration:N(E.start,E.end)}};try{_.dataTransfer.setData("text/plain",""),_.dataTransfer.setData("event",JSON.stringify($)),_.dataTransfer.setData("cursor-grab-at",_.offsetY)}catch(g){return console.warn("Vue Cal: Failed to set drag data:",g),_.preventDefault()}ae.eventId=E._.id,ae.fromVueCal=Y,R("event-drag-start",{e:_,event:E});const e=_.target.closest(".vuecal__event");e.classList.add("vuecal__event--dragging-ghost"),setTimeout(()=>{e.classList.add("vuecal__event--dragging-original"),e.classList.remove("vuecal__event--dragging-ghost")},0),Ee=!1,Object.assign(he,{id:D.id,date:D.firstCellDate}),_e=!0,l.touch.isDraggingEvent=!0},eventDragEnd:(_,E)=>{ae.eventId=null,_.target.closest(".vuecal__event").classList.remove("vuecal__event--dragging-original");const{fromVueCal:$,toVueCal:e}=ae;e&&$!==e&&I.deleteEvent(E._.id,3),Ee&&_e&&he.id&&D.switchView(he.id,he.date,!0),R("event-drag-end",{e:_,event:E,external:ae.fromVueCal!==Y}),ae.fromVueCal=null,ae.toVueCal=null,l.touch.isDraggingEvent=!1},cellDragEnter:(_,E)=>{const{start:$}=E,e=_.currentTarget;if(!_.currentTarget.contains(_.relatedTarget)){if(e===ne.el||!e.className.includes("vuecal__cell-content"))return!1;ne.el&&(ne.cell.highlighted=!1),Object.assign(ne,{el:e,cell:E,timeout:clearTimeout(ne.timeout)}),E.highlighted=!0,["years","year","month"].includes(D.id)&&(ne.timeout=setTimeout(()=>l.switchToNarrowerView($),2e3))}},cellDragOver:(_,E)=>{const{start:$,schedule:e}=E;_.preventDefault(),E.highlighted=!0,(e||e===0)&&(E.highlightedSchedule=e)},cellDragLeave:(_,E)=>{_.preventDefault(),!_.currentTarget.contains(_.relatedTarget)&&(E.highlightedSchedule=!1,ne.cell===E&&(clearTimeout(ne.timeout),Object.assign(ne,{el:null,cell:null,timeout:null}),E.highlighted=!1))},cellDragDrop:async(_,E,$=!1)=>{var f,n,y;_.preventDefault(),clearTimeout(ne.timeout),Object.assign(ne,{el:null,cell:null,timeout:null});const e=JSON.parse(_.dataTransfer.getData("event")||"{}");e.start&&(e.start=new Date(e.start)),e.end&&(e.end=new Date(e.end));let g,h,m;$?(h=new Date(E.start),m=new Date(E.end)):{start:h,end:m}=G(_,e,E.start);const{schedule:v}=((f=_.target.closest("[data-schedule]"))==null?void 0:f.dataset)||{};let c=()=>{};ae.fromVueCal===Y?(g=I.getEvent(e._.id),g&&(g._.dragging=!1,c=M=>{if(g.start=h,g.end=m,g.allDay=$,v!==void 0&&(g.schedule=~~v),M&&typeof M=="object"){const{_:C,...P}=M;Object.assign(g,P)}})):(g={...e,start:h,end:m,...v!==void 0&&{schedule:~~v},_:{id:((n=e._)==null?void 0:n.id)||e.id,duration:N(h,m)},getOverlappingEvents:()=>I.getEventsInRange(h,m,{schedule:~~v})},c=M=>{if(g=I.createEvent(g),M&&typeof M=="object"){const{_:C,...P}=M;Object.assign(g,P)}});let u=!0;const{drop:s}=(y=a.eventListeners)==null?void 0:y.event;s&&(u=await s({e:_,event:{...g,start:h,end:m,schedule:~~v},overlaps:g.getOverlappingEvents({start:h,end:m,schedule:~~v}),cell:E,external:ae.fromVueCal!==Y})),u!==!1&&c(u),E.highlighted=!1,E.highlightedSchedule=null,_e=!1,ae.toVueCal=Y,R("event-dropped",{e:_,cell:E,event:g,originalEvent:e,external:ae.fromVueCal!==Y})}}}const Me=(l,a)=>{let D,I,R,Y={},B={};const p=ce(l),G=()=>{p.value.today||(p.value=a),Date.prototype.addDays=function(t){return z(this,t||0)},Date.prototype.subtractDays=function(t){return q(this,t||0)},Date.prototype.addHours=function(t){return o(this,t||0)},Date.prototype.subtractHours=function(t){return Z(this,t||0)},Date.prototype.addMinutes=function(t){return _(this,t||0)},Date.prototype.subtractMinutes=function(t){return E(this,t||0)},Date.prototype.getWeek=function(){return e(this)},Date.prototype.isToday=function(){return g(this)},Date.prototype.isLeapYear=function(){return v(this)},Date.prototype.format=function(t="YYYY-MM-DD"){return M(this,t)},Date.prototype.formatTime=function(t="HH:mm"){return P(this,t)}},N=()=>{delete Date.prototype.addDays,delete Date.prototype.subtractDays,delete Date.prototype.addHours,delete Date.prototype.subtractHours,delete Date.prototype.addMinutes,delete Date.prototype.subtractMinutes,delete Date.prototype.getWeek,delete Date.prototype.isToday,delete Date.prototype.isLeapYear,delete Date.prototype.format,delete Date.prototype.formatTime},x=t=>{p.value=t,Date.prototype.subtractDays&&G()},k=()=>(I!==new Date().getDate()&&(D=new Date,I=D.getDate(),R=`${D.getFullYear()}-${D.getMonth()}-${D.getDate()}`),R),z=(t,d)=>{const r=new Date(t.valueOf());return r.setDate(r.getDate()+d),r},q=(t,d)=>{const r=new Date(t.valueOf());return r.setDate(r.getDate()-d),r},o=(t,d)=>{const r=new Date(t.valueOf());return r.setHours(r.getHours()+d),r},Z=(t,d)=>{const r=new Date(t.valueOf());return r.setHours(r.getHours()-d),r},_=(t,d)=>{const r=new Date(t.valueOf());return r.setMinutes(r.getMinutes()+d),r},E=(t,d)=>{const r=new Date(t.valueOf());return r.setMinutes(r.getMinutes()-d),r},$=(t,d)=>{const r=b=>{const j=b%d;return j!==0&&(b+=j>=d/2?d-j:-j),b};if(typeof t=="number")return r(t);if(t instanceof Date){let b=r(t.getMinutes());b>=60&&(t.setHours(t.getHours()+1),b=0),t.setMinutes(b,0,0)}},e=(t,d=!1)=>{const r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),b=r.getUTCDay()||7;r.setUTCDate(r.getUTCDate()+4-b);const j=new Date(Date.UTC(r.getUTCFullYear(),0,1));return Math.ceil(((r-j)/864e5+1)/7)+(d?1:0)},g=t=>`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`===k(),h=(t,d)=>{if(!t||!d)return console.warn(`Vue Cal: missing date${t?"2":"1"} parameter for comparison with \`isSameDate(date1, date2)\`.`);if(y(t)){if(!y(d))return console.warn(`Vue Cal: invalid date2 provided for comparison with \`isSameDate(date1, date2)\`: \`${d}\`.`)}else return console.warn(`Vue Cal: invalid date1 provided for comparison with \`isSameDate(date1, date2)\`: \`${t}\`.`);return t.getFullYear()===d.getFullYear()&&t.getMonth()===d.getMonth()&&t.getDate()===d.getDate()},m=(t,d,r)=>y(t)?t.getTime()>=d&&t.getTime()<=r:console.warn(`Vue Cal: invalid date provided to \`isInRange(date, rangeStart, rangeEnd)\`: \`${t}\`.`),v=t=>{const d=t.getFullYear();return!(d%400)||d%100&&!(d%4)},c=(t=null,d)=>{const r=t&&new Date(t.valueOf())||new Date,b=d?7:6;return r.setDate(r.getDate()-(r.getDay()+b)%7),r},u=t=>t instanceof Date?t:(t.length===10&&(t+=" 00:00"),new Date(t.replace(/-/g,"/"))),s=t=>t.getHours()*60+t.getMinutes(),f=(t,d)=>{typeof t=="string"&&(t=t.replace(/-/g,"/")),typeof d=="string"&&(d=d.replace(/-/g,"/")),t=new Date(t).setHours(0,0,0,0),d=new Date(d).setHours(0,0,1,0);const r=(new Date(d).getTimezoneOffset()-new Date(t).getTimezoneOffset())*60*1e3;return Math.ceil((d-t-r)/(24*3600*1e3))},n=(t,d,r)=>Math.abs(t.getTime()-d.getTime())<=r*60*1e3,y=t=>t&&t instanceof Date&&!isNaN(t),M=(t,d="YYYY-MM-DD",r=null)=>{if(r||(r=p.value),d||(d="YYYY-MM-DD"),d==="YYYY-MM-DD")return C(t);Y={},B={};const b={YYYY:()=>W(t,r).YYYY,YY:()=>W(t,r).YY(),M:()=>W(t,r).M,MM:()=>W(t,r).MM(),MMM:()=>W(t,r).MMM(),MMMM:()=>W(t,r).MMMM(),MMMMG:()=>W(t,r).MMMMG(),D:()=>W(t,r).D,DD:()=>W(t,r).DD(),S:()=>W(t,r).S(),d:()=>W(t,r).d,dd:()=>W(t,r).dd(),ddd:()=>W(t,r).ddd(),dddd:()=>W(t,r).dddd(),HH:()=>J(t,r).HH,H:()=>J(t,r).H,hh:()=>J(t,r).hh,h:()=>J(t,r).h,am:()=>J(t,r).am,AM:()=>J(t,r).AM,mm:()=>J(t,r).mm,m:()=>J(t,r).m,s:()=>J(t,r).s};return d.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(j,K)=>{const H=b[K.replace(/\{|\}/g,"")];return H!==void 0?H():K})},C=t=>{const d=t.getMonth()+1,r=t.getDate();return`${t.getFullYear()}-${d<10?"0":""}${d}-${r<10?"0":""}${r}`},P=(t,d="HH:mm",r=null,b=!1)=>{let j=!1;if(b){const[se,U,X]=[t.getHours(),t.getMinutes(),t.getSeconds()];se+U+X===141&&(j=!0)}if(t instanceof Date&&d==="HH:mm")return j?"24:00":A(t);B={},r||(r=p.value);const K=J(t,r),H=d.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(se,U)=>{const X=K[U.replace(/\{|\}/g,"")];return X!==void 0?X:U});return j?H.replace("23:59","24:00"):H},A=t=>{const d=t.getHours(),r=t.getMinutes();return`${(d<10?"0":"")+d}:${(r<10?"0":"")+r}`},F=t=>{const d=Math.floor(t/60).toString().padStart(2,0),r=(t%60).toString().padStart(2,0);return`${d}:${r}`},L=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},W=(t,d)=>{if(Y.D)return Y;const r=t.getFullYear(),b=t.getMonth()+1,j=t.getDate(),H=(t.getDay()-1+7)%7;return Y={YYYY:r,YY:()=>r.toString().substring(2),M:b,MM:()=>b.toString().padStart(2,0),MMM:()=>d.months[b-1].substring(0,3),MMMM:()=>d.months[b-1],MMMMG:()=>(d.monthsGenitive||d.months)[b-1],D:j,DD:()=>j.toString().padStart(2,0),S:()=>L(j),d:H+1,dd:()=>d.weekDaysShort.length?d.weekDaysShort[H]:d.weekDays[H][0],ddd:()=>d.weekDaysShort.length?d.weekDaysShort[H]:d.weekDays[H].substr(0,3),dddd:()=>d.weekDays[H]},Y},J=(t,d)=>{if(B.am)return B;let r,b,j;t instanceof Date?(r=t.getHours(),b=t.getMinutes(),j=t.getSeconds()):(r=Math.floor(t/60),b=Math.floor(t%60));const K=r%12?r%12:12,H=(d||{am:"am",pm:"pm"})[r===24||r<12?"am":"pm"];return B={H:r,h:K,HH:r.toString().padStart(2,0),hh:K.toString().padStart(2,0),am:H,AM:H.toUpperCase(),m:b,mm:b.toString().padStart(2,0),s:j},B};return{addDatePrototypes:G,removeDatePrototypes:N,updateTexts:x,addDays:z,subtractDays:q,addHours:o,subtractHours:Z,addMinutes:_,subtractMinutes:E,snapToInterval:$,getWeek:e,isToday:g,isSameDate:h,isInRange:m,isLeapYear:v,getPreviousFirstDayOfWeek:c,stringToDate:u,dateToMinutes:s,countDays:f,datesInSameTimeStep:n,isValid:y,formatDate:M,formatDateLite:C,formatTime:P,formatTimeLite:A,formatMinutes:F}},Ue=l=>{const{dateUtils:a,config:D}=l;let I=0;const R=V(()=>{var h,m,v,c,u;const e={byYear:{},byDate:{},recurring:[],multiday:[],byId:{}},g=D.events.slice().sort((s,f)=>s.start-f.start<0?-1:1);for(let s of g){const f=typeof s.start=="string"||typeof s.end=="string",n=!((h=s._)!=null&&h.register)||!s.isOverlapping||!s.delete;let y=!1;if(!f&&((m=s._)!=null&&m.cachedStart)&&((v=s._)!=null&&v.cachedEnd)&&(y=s.start.getTime()!==((c=s._)==null?void 0:c.cachedStart)||s.end.getTime()!==((u=s._)==null?void 0:u.cachedEnd)),f||n||y){if(!Y(s))continue;B(s),s._.cachedStart=s.start.getTime(),s._.cachedEnd=s.end.getTime()}if(e.byId[s._.id]=s,s.recurring)e.recurring.push(s._.id);else if(!a.isSameDate(s.start,new Date(s.end.getTime()-1)))s._.multiday=D.multidayEvents,D.multidayEvents?e.multiday.push(s._.id):(console.info("Vue Cal: Multi-day events provided without being enabled. Truncating event end to next midnight."),s.end=new Date(new Date(s.start).setHours(23,59,59,999)),B(s)),e.byDate[s._.startFormatted]||(e.byDate[s._.startFormatted]=[]),e.byDate[s._.startFormatted].push(s._.id);else{e.byDate[s._.startFormatted]||(e.byDate[s._.startFormatted]=[]),e.byDate[s._.startFormatted].push(s._.id);const M=s._.startFormatted.substring(0,4),C=s._.startFormatted.substring(5,7),P=s._.startFormatted.substring(8,10);e.byYear[M]||(e.byYear[M]={}),e.byYear[M][C]||(e.byYear[M][C]={}),e.byYear[M][C][P]||(e.byYear[M][C][P]=[]),e.byYear[M][C][P].push(s._.id)}}return e}),Y=e=>!e.start||!e.end?(console.error("Vue Cal: Event is missing start or end date",e),!1):(typeof e.start=="string"&&(e.start=a.stringToDate(e.start)),typeof e.end=="string"&&(e.end=a.stringToDate(e.end)),e.start.setSeconds(0,0),e.end.getSeconds()===59?e.end.setMinutes(e.end.getMinutes()+1,0,0):e.end.setSeconds(0,0),isNaN(e.start)||isNaN(e.end)||e.end.getTime()<e.start.getTime()?(isNaN(e.start)?console.error(`Vue Cal: invalid start date for event "${e.title}".`,e.start):isNaN(e.end)?console.error(`Vue Cal: invalid end date for event "${e.title}".`,e.end):console.error(`Vue Cal: invalid event dates for event "${e.title}". The event ends before it starts.`,e.start,e.end),!1):!0),B=e=>{e._||(e._={}),e._.id=e._.id||++I,e._.multiday=!a.isSameDate(e.start,new Date(e.end.getTime()-1)),e._.startFormatted=a.formatDate(e.start),e._.endFormatted=a.formatDate(e.end),e._.startMinutes=~~a.dateToMinutes(e.start),e._.endMinutes=~~a.dateToMinutes(e.end);const g=e.start.getHours(),h=e.start.getMinutes().toString().padStart(2,0),m=e.end.getHours(),v=e.end.getMinutes().toString().padStart(2,0);e._.startTimeFormatted24=`${g.toString().padStart(2,0)}:${h}`,e._.startTimeFormatted12=`${g%12||12}${h?`:${h}`:""} ${g<12?"AM":"PM"}`,e._.endTimeFormatted24=`${m.toString().padStart(2,0)}:${v}`,e._.endTimeFormatted12=`${m%12||12}${v?`:${v}`:""} ${m<12?"AM":"PM"}`,e._.duration=Math.abs(~~((e.end-e.start)/6e4)),e.delete||(e.delete=function(c){return x(this._.id,c)}),e._.deleting===void 0&&(e._.deleting=!1),e._.deleted===void 0&&(e._.deleted=!1),e.isOverlapping||(e.isOverlapping=function(c=null){return this.getOverlappingEvents(c).length}),e.getOverlappingEvents||(e.getOverlappingEvents=function(c=null){var n;const u=(c==null?void 0:c.start)||this.start,s=(c==null?void 0:c.end)||this.end,f=(n=D.schedules)!=null&&n.length?~~((c==null?void 0:c.schedule)||this.schedule):null;return z(u,s,{excludeIds:[this._.id],schedule:f})}),e._.register||(e._.register=c=>{e._.$el=c,e._.fireCreated&&(l.emit("event-created",e),delete e._.fireCreated)}),e._.unregister||(e._.unregister=()=>{e._.$el=null,e._.register=null,e.isOverlapping=null,e.getOverlappingEvents=null,e.delete=null})},p=e=>R.value.byId[e],G=e=>{const g=[];for(const{start:h,end:m}of e){const v=z(h,m);v.length&&g.push(...v)}return g},N=e=>{if(!e.start||!e.end){console.error("Vue Cal: Cannot create an event without valid start and end dates.");return}return D.snapToInterval&&(a.snapToInterval(e.start,D.snapToInterval),a.snapToInterval(e.end,D.snapToInterval)),e={...e},e._||(e._={}),e._.id=++I,e._.fireCreated=!0,D.events.push(e),e},x=async(e,g=0)=>{var u,s;if(!e)return console.warn("Vue Cal: Cannot delete event without its ID or criteria.");let h=typeof e=="string"||!isNaN(e)?e:null;const m=typeof e=="object"?Object.entries(e):null;if(m){const[f,n]=m[0];h=(u=D.events.find(y=>y[f]===n))==null?void 0:u._.id}if(!D.editableEvents.delete)return console.info("Vue Cal: Event deletion is disabled. Enable it with the `editable-events` props.");if(!h)return console.warn("Vue Cal: Cannot delete event without its ID.");const v=D.events.findIndex(f=>f._.id===h);if(v===-1)return console.warn(`Vue Cal: Cannot delete unknown event \`${h}\`.`);const c=D.events[v];if(c.deletable===!1)return console.warn(`Vue Cal: Can't delete event \`${h}\` since it was explicitely set to \`delete: false\`.`);switch(g){case 0:c._.deleting?D.events.splice(v,1):c._.deleting=!0;break;case 1:c._.deleting=!0;break;case 2:c._.deleted=!0,D.events[v]._.deleted=!0,(s=c._.$el)==null||s.dispatchEvent(new CustomEvent("event-deleted",{detail:c._.id}));break;case 3:D.events.splice(v,1),l.emit("update:events",D.events),l.emit("event-delete",c);break}return!0},k=(e,g,h)=>{const m=D.allDayEvents?{allDay:h}:{},v=z(e,g,{background:!1,...m});if(!v.length)return{cellOverlaps:{},longestStreak:0};const c={};let u=[],s=0;v.sort((f,n)=>f.start-n.start||f.end-f.start-(n.end-n.start));for(const f of v){const n=f._.id;c[n]||(c[n]={overlaps:new Set,maxConcurrent:1,position:0}),u=u.filter(A=>A.end>f.start);const y=u.filter(A=>{var L;return(!((L=D.schedules)!=null&&L.length)||f.schedule===A.schedule)&&A.start<f.end}),M=new Set(y.map(A=>{var F;return((F=c[A._.id])==null?void 0:F.position)??0}));let C=0;for(;M.has(C);)C++;c[n].position=C,u.push(f);const P=Math.max(1,...y.map(A=>{var F;return((F=c[A._.id])==null?void 0:F.maxConcurrent)??1}));c[n].maxConcurrent=Math.max(y.length+1,P);for(const A of y)c[A._.id].overlaps.add(n),c[n].overlaps.add(A._.id),c[A._.id].maxConcurrent=c[n].maxConcurrent;s=Math.max(s,c[n].maxConcurrent)}for(const f in c)c[f].overlaps=[...c[f].overlaps];return{cellOverlaps:c,longestStreak:s}},z=(e,g,{excludeIds:h=[],schedule:m=null,background:v=!0,allDay:c=!1}={})=>{if(!Object.keys(R.value.byId).length)return[];const u=e.getFullYear(),s=g.getFullYear(),f=e.getMonth()+1,n=g.getMonth()+1,y=e.getDate(),M=g.getDate();e.getTime(),g.getTime();const C=e.setHours(0,0,0,0),P=g.setHours(23,59,59,999),A=new Set(h),F=[];if(Object.keys(R.value.byId).length<=100){for(const L of Object.values(R.value.byId))!L||A.has(L._.id)||m!==null&&m!==L.schedule||v===!1&&L.background||D.allDayEvents&&(c&&!L.allDay||!c&&L.allDay)||L.start.getTime()<P&&L.end.getTime()>C&&F.push(L);return F}for(let L=u;L<=s;L++){const W=`${L}`,J=R.value.byYear[W];if(!J)continue;const t=L===u?f:1,d=L===s?n:12;for(let r=t;r<=d;r++){const b=String(r).padStart(2,"0"),j=J[b];if(j)for(const K in j){const H=+K;if(H>M||H<y)continue;const se=j[K];if(se!=null&&se.length)for(let U=0;U<se.length;U++){const X=R.value.byId[se[U]];!X||A.has(X._.id)||m!==null&&m!==X.schedule||v===!1&&X.background||D.allDayEvents&&(c&&!X.allDay||!c&&X.allDay)||X.start.getTime()<P&&X.end.getTime()>C&&F.push(X)}}}}return F},q=(e,g,h)=>{const m=e.allDay||!D.time,v=m?new Date(e.start).setHours(0,0,0,0):e.start.getTime(),c=m?new Date(e.end).setHours(23,59,59,999):e.end.getTime(),u=m?new Date(g).setHours(0,0,0,0):g.getTime(),s=m?new Date(h).setHours(23,59,59,999):h.getTime();return c>u&&v<s},o=de({isResizing:!1,fromResizer:!1,resizingEvent:null,resizingOriginalEvent:null,resizingLastAcceptedEvent:null,startX:0,startY:0,startPercentageX:0,startPercentageY:0,moveX:0,moveY:0,movePercentageX:0,movePercentageY:0,documentMouseX:0,documentMouseY:0,resizeStartDate:null,cellEl:null,schedule:null}),Z=(e,g)=>{var c;let h=Te(o.movePercentageY,D);if(h=Math.max(0,Math.min(h,1440)),D.snapToInterval){const u=h+D.snapToInterval/2;h=u-u%D.snapToInterval}let m=e.start,v=new Date(g.getTime()+h*6e4);return o.moveX&&((c=l.touch)!=null&&c.currentHoveredCell)&&o.cellEl&&new Date(l.touch.currentHoveredCell.__vueParentComponent.props.start),v<o.resizeStartDate&&(m=v,v=o.resizeStartDate),{newStart:m,newEnd:v}},_=async e=>{var m,v,c,u,s;const{clientX:g,clientY:h}=((m=e.touches)==null?void 0:m[0])||e;if(o.fromResizer&&!((v=l.touch)!=null&&v.isResizingEvent)){o.resizingOriginalEvent={...o.resizingEvent,_:{...o.resizingEvent._}},l.touch.isResizingEvent=!0;const f=((c=D.eventListeners)==null?void 0:c.event)||{};(u=f["resize-start"])==null||u.call(f,{e,event:o.resizingEvent})}if(o.cellEl){const{top:f,left:n,width:y,height:M}=o.cellEl.getBoundingClientRect();o.moveX=g-n,o.moveY=h-f,o.movePercentageX=o.moveX*100/y,o.movePercentageY=o.moveY*100/M}if(o.documentMouseX=g,o.documentMouseY=h,o.fromResizer&&o.resizingEvent){const f=o.cellEl.__vueParentComponent.props.start,{newStart:n,newEnd:y}=Z(o.resizingEvent,f);let M=!0;const{resize:C}=((s=D.eventListeners)==null?void 0:s.event)||{};C&&(M=await C({e,event:{...o.resizingEvent,start:n,end:y},overlaps:o.resizingEvent.getOverlappingEvents({start:n,end:y})})),M!==!1?(o.resizingEvent.start=n,o.resizingEvent.end=y,o.resizingLastAcceptedEvent&&(o.resizingLastAcceptedEvent=null),e.preventDefault()):C&&(o.resizingLastAcceptedEvent={...o.resizingEvent,_:{...o.resizingEvent._}})}},E=async e=>{var g,h,m,v;if((g=l.touch)!=null&&g.isResizingEvent&&o.resizingEvent){const c=o.cellEl.__vueParentComponent.props.start,{newStart:u,newEnd:s}=Z(o.resizingEvent,c);let f=!0;const y=(((h=D.eventListeners)==null?void 0:h.event)||{})["resize-end"];y&&(f=await y({e,event:o.resizingEvent,original:o.resizingOriginalEvent,overlaps:o.resizingEvent.getOverlappingEvents({start:u,end:s})})),o.resizingEvent.start=f===!1?(o.resizingLastAcceptedEvent||o.resizingOriginalEvent).start:((m=o.resizingLastAcceptedEvent)==null?void 0:m.start)||u,o.resizingEvent.end=f===!1?(o.resizingLastAcceptedEvent||o.resizingOriginalEvent).end:((v=o.resizingLastAcceptedEvent)==null?void 0:v.end)||s,o.resizingEvent._.duration<1&&(o.resizingEvent.start=o.resizingOriginalEvent.start,o.resizingEvent.end=o.resizingOriginalEvent.end),l.touch.isResizingEvent=!1,l.touch.currentHoveredCell=null}document.removeEventListener(e.type==="touchend"?"touchmove":"mousemove",_,{passive:!o.fromResizer}),l.touch.isResizingEvent=!1,o.fromResizer=!1,o.resizingEvent=null,o.resizingOriginalEvent=null,o.resizingLastAcceptedEvent=null,o.startX=0,o.startY=0,o.moveX=0,o.moveY=0,o.startPercentageX=0,o.startPercentageY=0,o.movePercentageX=0,o.movePercentageY=0,o.documentMouseX=0,o.documentMouseY=0,o.cellEl=null,o.resizeStartDate=null,o.schedule=null};return{events:R,resizeState:o,getEvent:p,getViewEvents:G,getCellOverlappingEvents:k,getEventsInRange:z,createEvent:N,deleteEvent:x,isEventInRange:q,handleEventResize:(e,g,h)=>{var v;const m=((v=e.touches)==null?void 0:v[0])||e;if(o.fromResizer=!!m.target.closest(".vuecal__event-resizer"),o.fromResizer){const c=h.getBoundingClientRect();o.startX=m.clientX-c.left,o.startY=m.clientY-c.top,o.startPercentageX=o.startX*100/c.width,o.startPercentageY=o.startY*100/c.height,o.cellEl=h.closest(".vuecal__cell"),o.resizeStartDate=g.start,o.resizingEvent=g,document.addEventListener(e.type==="touchstart"?"touchmove":"mousemove",_,{passive:!o.fromResizer}),document.addEventListener(e.type==="touchstart"?"touchend":"mouseup",E,{once:!0})}}}},et=({config:l,dateUtils:a,emit:D,texts:I,eventsManager:R},Y)=>{const{availableViews:B}=l,p=ce(l.view&&B[l.view]?l.view:l.defaultView),G=ce(l.selectedDate||null),N=ce(new Date),x=ce(new Date(l.viewDate||N.value));x.value.setHours(0,0,0,0);const k=ce(new Date(x));let z=null;const q=V(()=>p.value==="month"?k.value:v.value),o=V(()=>p.value==="month"?new Date(k.value.getFullYear(),k.value.getMonth()+1,0,23,59,59,999):u.value),Z=V(()=>p.value==="week"?a.getPreviousFirstDayOfWeek(v.value,l.startWeekOnSunday):p.value==="month"?v.value:q.value),_=V(()=>{if(p.value==="week"){const i=a.addDays(Z.value,7);return i.setMilliseconds(-1),i}return p.value==="month"?u.value:o.value}),E=V(()=>{const i=N.value.getTime();if(p.value==="week")return Z.value.getTime()<=i&&i<=_.value.getTime();const T=v.value.getTime(),S=u.value.getTime();return T<=i&&i<=S});function $(){N.value=new Date,z=setTimeout($,60*1e3)}function e(){z=setTimeout($,(60-new Date().getSeconds())*1e3),$()}const g=V(()=>{if(!l.availableViews[p.value])return 1;let i=l.availableViews[p.value].cols;return l.hasHiddenDays&&["week","month"].includes(p.value)&&(i-=l.hasHiddenDays),i}),h=V(()=>{var i;return((i=l.availableViews[p.value])==null?void 0:i.rows)||1}),m=V(()=>g.value*h.value),v=V(()=>{if(p.value==="month"){let i=k.value.getDay()||7;return l.startWeekOnSunday&&!l.hideWeekdays[7]&&(i+=1),l.viewDayOffset&&(i-=l.viewDayOffset),a.subtractDays(k.value,i-1)}if(p.value==="week"){const i="1234567".split("").filter(S=>!Object.keys(l.hideWeekdays).includes(S));let T=Math.min(...i);return l.startWeekOnSunday&&!l.hideWeekdays[7]&&(T=1),l.viewDayOffset&&(T+=l.viewDayOffset),a.addDays(k.value,T-1)}return k.value}),c=V(()=>{const i=[],T=["days","week","month"].includes(p.value);let S=0;for(let O=0;O<m.value+S;O++)switch(p.value){case"day":case"days":case"week":case"month":{const Q=a.addDays(v.value,O),me=Q.getDay()||7;if(T&&l.hasHiddenDays&&l.hideWeekdays[me]){S++;continue}const ue=new Date(Q);ue.setHours(23,59,59,999),i.push({start:Q,startFormatted:a.formatDate(Q),end:ue});break}case"year":i.push({start:new Date(v.value.getFullYear(),O,1,0,0,0,0),end:new Date(v.value.getFullYear(),O+1,0,23,59,59,999)});break;case"years":i.push({start:new Date(v.value.getFullYear()+O,0,1,0,0,0,0),end:new Date(v.value.getFullYear()+O+1,0,0,23,59,59,999)});break}return i}),u=V(()=>c.value[c.value.length-1].end),s=ce("right"),f=V(()=>{const i=Object.keys(l.availableViews);return i[i.indexOf(p.value)+1]}),n=V(()=>{const i=Object.keys(l.availableViews);return i[i.indexOf(p.value)-1]});function y(i,T,S=!1){if(!T||!T[i])return i+1;const O=T[i];return S&&typeof O=="string"?O.substring(0,3):O}function M(i,T,S){const{monthsArray:O,monthBeforeDay:Q,canTruncate:me,xs:ue}=S,ie=i.getMonth(),oe=i.getFullYear(),le=T.getMonth(),ve=T.getFullYear(),De=ie!==le,Ne=oe!==ve,re=me&&(ue||De),fe=i.getDate(),ge=T.getDate();return Ne?Q?`${y(ie,O,re)} ${fe}, ${oe} - ${y(le,O,re)} ${ge}, ${ve}`:`${fe} ${y(ie,O,re)} ${oe} - ${ge} ${y(le,O,re)} ${ve}`:De?Q?`${y(ie,O,re)} ${fe} - ${y(le,O,re)} ${ge}, ${oe}`:`${fe} ${y(ie,O,re)} - ${ge} ${y(le,O,re)} ${oe}`:Q?`${y(ie,O,re)} ${fe}-${ge}, ${oe}`:`${fe}-${ge} ${y(ie,O,re)} ${oe}`}const C=V(()=>{const{dateFormat:i,months:T,monthsGenitive:S,week:O,truncations:Q}=I,me=l.locale,ue=Q!==!1,ie=i.indexOf("M")<i.indexOf("D"),oe=S&&me==="el"?S:T;switch(p.value){case"day":return a.formatDate(v.value,i);case"days":case"week":{const le={monthsArray:oe,monthBeforeDay:ie,canTruncate:ue,xs:l.xs};let ve=M(v.value,u.value,le);if(p.value==="week"){const De=a.getWeek(v.value,l.startWeekOnSunday&&!l.hideWeekdays[7]);ve+=` <small>${O} ${De}</small>`}return ve}case"month":{const le=`${l.xs&&ue?"MMM":"MMMM"} YYYY`;return a.formatDate(q.value,le)}case"year":return v.value.getFullYear();case"years":return`${v.value.getFullYear()} - ${o.value.getFullYear()}`}});async function P(){switch(k.value=new Date(x.value||N.value),k.value.setHours(0,0,0,0),p.value){case"day":break;case"days":break;case"week":k.value=a.getPreviousFirstDayOfWeek(k.value,l.startWeekOnSunday&&!l.hideWeekdays[7]);break;case"month":k.value=new Date(k.value.getFullYear(),k.value.getMonth(),1,0,0,0,0);break;case"year":k.value=new Date(k.value.getFullYear(),0,1,0,0,0,0);break;case"years":k.value=new Date(k.value.getFullYear()-k.value.getFullYear()%m.value,0,1,0,0,0,0);break}N.value=new Date,l.ready&&(await Je(),D("view-change",{id:p.value,title:C.value,start:q.value,end:o.value,extendedStart:Z.value,extendedEnd:_.value,cellDates:c.value,containsToday:E.value,events:pe.value}))}function A(i){const T=p.value,S=l.availableViews[T];i[T]&&JSON.stringify(i[T])===JSON.stringify(S)||P()}function F(i,T=!0){const S=Object.keys(l.availableViews);p.value!==i&&(S.includes(i)?(s.value=S.indexOf(i)<S.indexOf(p.value)?"left":"right",p.value=i,T&&D("update:view",i),P()):console.warn(`Vue Cal: the \`${i}\` view is not available.`))}function L(){f.value?F(f.value):console.warn("Vue Cal: no broader view is available.")}function W(){n.value?F(n.value):console.warn("Vue Cal: no narrower view is available.")}function J(){d(!1)}function t(){d(!0)}function d(i=!0){let T=new Date(x.value);switch(p.value){case"day":case"days":i?T=a.addDays(u.value,1):T=a.subtractDays(v.value,m.value);break;case"week":{i?(T=a.addDays(_.value,1),T.setHours(0,0,0,0)):T=a.subtractDays(Z.value,m.value);break}case"month":{const S=i?1:-1;T=new Date(T.getFullYear(),T.getMonth()+S,1,0,0,0,0);break}case"year":{const S=i?1:-1;T=new Date(T.getFullYear()+S,1,1,0,0,0,0);break}case"years":{const S=i?m.value:-m.value;T=new Date(T.getFullYear()+S,1,1,0,0,0,0);break}}b(T)}function r(){const i=new Date;i.setHours(0,0,0,0),b(i)}function b(i,T=!0,S=!1){if(!a.isValid(i))return console.warn("Vue Cal: can't navigate to the given date: invalid date provided to `updateViewDate(date)`.");let[O,Q]=[v.value,u.value];p.value==="month"&&([O,Q]=[q.value,o.value]),(!a.isInRange(i,O,Q)||S)&&(i.setHours(0,0,0,0),s.value=i.getTime()<O.getTime()?"left":"right",x.value=i,T&&D("update:viewDate",i),P())}function j(i,T=!0){if(!a.isValid(i))return console.warn("Vue Cal: can't update the selected date: invalid date provided to `updateSelectedDate(date)`.");const{isValid:S,isSameDate:O}=a;(!G.value||!S(G.value)||!O(i,G.value))&&(i.setHours(0,0,0,0),G.value=i,T&&D("update:selectedDate",i))}function K(i){!i&&!k.value.getDay()?b(a.addDays(k.value,1),!0,!0):(s.value="left",P())}function H(i){i&&l.startWeekOnSunday&&!k.value.getDay()?b(a.addDays(k.value,1),!0,!0):!i&&l.startWeekOnSunday&&k.value.getDay()===1&&b(a.subtractDays(k.value,1),!0,!0)}function se(){console.log("toggling weekdays",l.hideWeekdays),P()}function U(i){var O;const T=(O=Y.value)==null?void 0:O.querySelector(".vuecal__scrollable"),S=i?i*l.timeCellHeight/l.timeStep:0;T==null||T.scrollTo({top:S,behavior:"smooth"})}function X(){const i=new Date;U(i.getHours()*60+i.getMinutes())}function Fe(){U(0)}const pe=V(()=>R.getViewEvents(c.value)),We=R.createEvent,xe=R.deleteEvent;return ee(()=>l.view,i=>F(i,!1)),ee(()=>l.availableViews,A),ee(()=>l.datePicker,()=>F("month")),ee(()=>l.viewDate,i=>b(i,!1)),ee(()=>l.selectedDate,i=>j(i,!1)),ee(()=>l.startWeekOnSunday,i=>K(i)),ee(()=>l.hideWeekends,i=>H(i)),ee(()=>l.hideWeekdays,se),ee(()=>m.value,()=>{m.value>90&&console.warn("Vue Cal: high cell count detected. Performance may degrade when interactions are enabled.")}),ee(()=>l.watchRealTime,i=>{i&&l.time?e():z=clearTimeout(z)}),P(),l.time&&l.watchRealTime&&e(),Be(()=>z=clearTimeout(z)),{now:N,id:p,broaderView:f,narrowerView:n,title:C,viewDate:x,start:q,end:o,extendedStart:Z,extendedEnd:_,firstCellDate:v,lastCellDate:u,containsToday:E,selectedDate:G,cellDates:c,cols:g,rows:h,events:pe,transitionDirection:s,switch:F,broader:L,narrower:W,previous:J,next:t,navigate:d,goToToday:r,updateViewDate:b,updateSelectedDate:j,scrollToCurrentTime:X,scrollToTime:U,scrollTop:Fe,createEvent:We,deleteEvent:xe,get isDay(){return p.value==="day"},get isDays(){return p.value==="days"},get isWeek(){return p.value==="week"},get isMonth(){return p.value==="month"},get isYear(){return p.value==="year"},get isYears(){return p.value==="years"}}},be=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ve=["January","February","March","April","May","June","July","August","September","October","November","December"],Oe="Years",ke="Year",Ye="Month",Se="Week",Ce="Days",je="Day",Pe="Today",ze="No Event",Re="All-day",$e="Delete",Ae="Create an event",Le="dddd, MMMM D, YYYY",Ie="am",He="pm",we={weekDays:be,months:Ve,years:Oe,year:ke,month:Ye,week:Se,days:Ce,day:je,today:Pe,noEvent:ze,allDay:Re,deleteEvent:$e,createEvent:Ae,dateFormat:Le,am:Ie,pm:He},tt=Object.freeze(Object.defineProperty({__proto__:null,allDay:Re,am:Ie,createEvent:Ae,dateFormat:Le,day:je,days:Ce,default:we,deleteEvent:$e,month:Ye,months:Ve,noEvent:ze,pm:He,today:Pe,week:Se,weekDays:be,year:ke,years:Oe},Symbol.toStringTag,{value:"Module"})),ye=de({texts:{...te.texts},dateUtils:Me(te.texts,we)}),rt=({props:l,emit:a,attrs:D,vuecalEl:I,uid:R})=>{const Y=de({uid:R,emit:a,texts:{...ye.texts},dateUtils:{...ye.dateUtils},now:new Date,config:{},eventsManager:{},view:{},dnd:{},touch:{isDraggingCell:!1,isDraggingEvent:!1,isResizingEvent:!1,currentHoveredCell:null}});return Y.dateUtils=Me(Object.assign(te.texts,Y.texts),we),Y.config=qe(Y,l,D),Y.eventsManager=Ue(Y),Y.view=et(Y,I),Y.dnd=Qe(Y),Y},{addDatePrototypes:it,removeDatePrototypes:ot,updateTexts:lt,addDays:ut,subtractDays:ct,addHours:dt,subtractHours:vt,addMinutes:ft,subtractMinutes:gt,getWeek:mt,isToday:Dt,isSameDate:ht,isInRange:_t,isLeapYear:yt,getPreviousFirstDayOfWeek:wt,stringToDate:pt,dateToMinutes:Et,countDays:Tt,datesInSameTimeStep:Mt,isValid:bt,formatDate:Vt,formatDateLite:Ot,formatTime:kt,formatTimeLite:Yt,formatMinutes:St}=ye.dateUtils;export{ut as a,it as b,Tt as c,at as d,Ke as e,Vt as f,st as m,Te as p,pt as s,rt as u,Ge as w};
