import{b as x,s as p,c as M}from"./index-BSnnLWUW.js";import{u as S,r as n,x as g,c as D,b as T,e as r,f as i,w as u,h as d,a as N,t as y,y as $,g as B,d as O}from"./index-OCiYuyLQ.js";import{_ as P}from"./index-Db2qTBXJ.js";const A={class:"test-view"},U={class:"w-flex gap2"},W={class:"w-flex column gap2 mt4 ovh"},I={__name:"isolated-test-view",setup(F){x();const m=S(),w=n(null);g({datePicker:!0,dark:D(()=>m.darkMode),selectedDate:D(()=>s.selectedDate),locale:D(()=>s.locale)});const s=g({view:n("week"),dark:D(()=>m.darkMode),selectedDate:n(null),viewDate:n(new Date),locale:n(""),startWeekOnSunday:n(!1),todayButton:n(!0),xs:n(!1),sm:n(!1),timeStep:60,twelveHour:n(!1),hideWeekends:n(!1),hideWeekdays:n([]),viewDayOffset:n(0),clickToNavigate:n(!1),watchRealTime:n(!0),editableEvents:n(!0),allDayEvents:n(!0),events:n([]),eventsOnMonthView:!0,horizontal:n(!0)});setTimeout(()=>{s.events=[{title:"Event 1",start:new Date(new Date().setHours(10,0,0,0)),end:new Date(new Date().setHours(11,30,0,0)),allDay:!0},{title:"Event 2",start:new Date(new Date().addDays(1).setHours(11,0,0,0)),end:new Date(new Date().addDays(1).setHours(13,30,0,0)),allDay:!0},{title:"Event 3",start:new Date(new Date().setHours(10,0,0,0)),end:new Date(new Date().setHours(11,30,0,0))},{title:"Event 4",start:new Date(new Date().addDays(1).setHours(11,0,0,0)),end:new Date(new Date().addDays(1).setHours(13,30,0,0))}]},0);const k=()=>{s.events.push({title:`Event ${s.events.length}`,start:new Date().subtractHours(4),end:new Date().subtractHours(3),schedule:2})},C=()=>{w.value.view.createEvent({title:"New Event!",start:new Date().subtractHours(2),end:new Date().subtractHours(1),schedule:1})},H=()=>{w.value.view.deleteEvent({id:123})},a=(...o)=>console.log(...o),z=o=>{b(o.start.format(),o.end.format())},b=async(o,e)=>{console.log("fetchEvents",o,e),await new Promise(v=>setTimeout(v,500));const l=p(o),t=p(e);s.events=R(l,t)},R=(o,e)=>{const l=M(o,e),t=[];for(let v=0;v<l;v++)for(let f=0;f<10;f++){const E=new Date(o.addDays(v).setHours(Math.floor(Math.random()*8)+9,Math.floor(Math.random()*60),0,0)),V=E.addHours(1);t.push({title:`Event ${f}`,start:E,end:V})}return t};return(o,e)=>{const l=N("w-button");return O(),T("div",A,[r("div",U,[i(l,{onClick:k},{default:u(()=>[...e[17]||(e[17]=[d("Add event",-1)])]),_:1}),i(l,{onClick:C},{default:u(()=>[...e[18]||(e[18]=[d("Add event",-1)])]),_:1}),i(l,{onClick:H},{default:u(()=>[...e[19]||(e[19]=[d("Delete event",-1)])]),_:1}),i(l,{onClick:e[0]||(e[0]=t=>s.horizontal=!s.horizontal)},{default:u(()=>[...e[20]||(e[20]=[d("Horizontal",-1)])]),_:1}),i(l,{onClick:e[1]||(e[1]=t=>w.value.view.switch("day",new Date))},{default:u(()=>[...e[21]||(e[21]=[d("Switch to today",-1)])]),_:1})]),r("div",null,[r("pre",null,[e[22]||(e[22]=r("strong",{class:"mr2"},"Selected date:",-1)),d(y(s.selectedDate),1)]),r("pre",null,[e[23]||(e[23]=r("strong",{class:"mr2"},"View date:",-1)),d(y(s.viewDate),1)])]),r("div",W,[i(B(P),$({class:"grow",ref_key:"vueCalRef",ref:w,view:s.view,"onUpdate:view":e[2]||(e[2]=t=>s.view=t),"selected-date":s.selectedDate,"onUpdate:selectedDate":e[3]||(e[3]=t=>s.selectedDate=t),"view-date":s.viewDate,"onUpdate:viewDate":e[4]||(e[4]=t=>s.viewDate=t)},s,{onReady:e[5]||(e[5]=t=>a("ready",t)),onViewChange:z,onEventCreate:e[6]||(e[6]=t=>a("event-create",t)),onEventClick:e[7]||(e[7]=t=>a("event-click",t)),onEventDrag:e[8]||(e[8]=t=>a("event-drag",t)),onEventDragEnd:e[9]||(e[9]=t=>a("event-drag",t)),onEventDrop:e[10]||(e[10]=t=>a("event-drop",t)),onEventResizeStart:e[11]||(e[11]=t=>a("event-resize-start",t)),onEventResize:e[12]||(e[12]=t=>a("event-resize",t)),onEventResizeEnd:e[13]||(e[13]=t=>a("event-resize-end",t)),onCellClick:e[14]||(e[14]=t=>a("cell-click",t)),onCellDrag:e[15]||(e[15]=t=>a("cell-drag",t)),onCellDragEnd:e[16]||(e[16]=t=>a("cell-drag-end",t))}),null,16,["view","selected-date","view-date"])])])}}};export{I as default};
