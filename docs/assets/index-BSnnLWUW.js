import{c as O,x as de,D as te,V as Xe,W as w,r as ce,G as Be,J as Je}from"./index-OCiYuyLQ.js";const B={texts:{weekDays:Array(7).fill(""),weekDaysShort:[],months:Array(12).fill(""),years:"",year:"",month:"",week:"",day:"",today:"",noEvent:"",allDay:"",deleteEvent:"",createEvent:"",dateFormat:"dddd MMMM D, YYYY",am:"am",pm:"pm",truncations:!0},availableViews:{day:{cols:1,rows:1},days:{cols:10,rows:1},week:{cols:7,rows:1},month:{cols:7,rows:6},year:{cols:4,rows:3},years:{cols:5,rows:5}}},at=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],Ge=["sun","mon","tue","wed","thu","fri","sat"],Ze=Ge.reduce((l,a,D)=>(l[a]=D||7,l),{}),qe=(l,a,D)=>{const{dateUtils:I}=l,R=!1,Y=O(()=>{if(P.value[a.view])return a.view;const u=a.datePicker?"month":"week",s=a.view||u;return P.value[s]?s:(console.warn(`Vue Cal: the provided or default view \`${s}\` is either invalid or not in the list of available views. The first available view will be chosen: \`${Object.keys(P.value)[0]}\`.`),Object.keys(P.value)[0])}),J=O(()=>a.sm&&!a.xs),p=O(()=>a.xs||a.datePicker),Z=O(()=>a.clickToNavigate||a.datePicker&&a.clickToNavigate!==!1),N=O(()=>{const u={cell:{},event:{}},s=f=>f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();for(const[f,t]of Object.entries(D)){const[y,b,C]=f.match(/^on(Cell|Event)(.+)$/)||[];y&&(u[b.toLowerCase()][s(C).replace(/^-+|-+$/g,"")]=t)}return u}),x=O(()=>{var s;const u={};return a.hideWeekends&&(u[6]=!0)&&(u[7]=!0),(s=a.hideWeekdays)!=null&&s.length&&a.hideWeekdays.forEach(f=>u[Ze[f]]=!0),u}),k=O(()=>a.hideWeekends||x.value[6]&&x.value[7]),P=O(()=>{const u=a.datePicker;let s=0,f={};const t=a.views;return u&&!t?{month:{...B.availableViews.month},year:{...B.availableViews.year},years:{...B.availableViews.years}}:a.horizontal&&!t?{days:{cols:B.availableViews.days.rows,rows:B.availableViews.days.cols},week:{cols:B.availableViews.week.rows,rows:B.availableViews.week.cols}}:(t?(Array.isArray(t)?f=t.reduce((y,b)=>(typeof b=="string"&&B.availableViews[b]?y[b]=B.availableViews[b]:s++,y),{}):typeof t=="object"&&(f=Object.entries(t).reduce((y,[b,C])=>{const{cols:z,rows:A}=B.availableViews[b];return y[b]={cols:C.cols||z,rows:C.rows||A},y},{})),s&&console.warn("Vue Cal: the provided `views` prop contains invalid views that will be ignored."),Object.keys(f).length||(console.warn("Vue Cal: No valid view in the provided `views` prop. Falling back to default views."),f={...B.availableViews})):f={...B.availableViews},f)}),K=O(()=>a.datePicker?"month":P.value.week?"week":Object.keys(P.value)[0]),o=O(()=>{if(typeof a.selectedDate=="string")return I.stringToDate(a.selectedDate);if(a.selectedDate instanceof Date)return a.selectedDate;a.selectedDate?console.warn("Vue Cal: The provided selected date is invalid:",a.selectedDate):console.log("Vue Cal: Info - The provided selected date is undefined.")}),q=O(()=>{if(!a.disableDays)return[];const u=[];if(Array.isArray(a.disableDays))for(let s of a.disableDays){let f=s;typeof s=="string"?f=I.stringToDate(s):s instanceof Date&&(s=I.formatDate(s,"YYYY-MM-DD")),f instanceof Date&&!isNaN(f.getTime())?u.push(s):console.warn("Vue Cal: The provided `disableDays` prop contains an invalid date:",s)}else console.warn("Vue Cal: The provided `disableDays` prop is invalid:",a.disableDays);return u}),_=O(()=>{let u=null;return a.minDate&&typeof a.minDate=="string"?u=I.stringToDate(a.minDate):a.minDate&&a.minDate instanceof Date&&(u=a.minDate),(u==null?void 0:u.getTime())||null}),T=O(()=>{let u=null;return a.maxDate&&typeof a.maxDate=="string"?u=I.stringToDate(a.maxDate):a.maxDate&&a.maxDate instanceof Date&&(u=a.maxDate),(u==null?void 0:u.getTime())||null}),$=O(()=>{var f;const{view:u}=l;return a.schedules.length&&(u.isDay||u.isDays||u.isWeek)&&((f=a.schedules)==null?void 0:f.map((t,y)=>({...t,id:t.id??y+1})))||void 0}),e=O(()=>{const u={drag:!0,resize:!0,delete:!0,create:!0};return a.editableEvents===!0?u:a.editableEvents===!1?Object.keys(u).map(s=>u[s]=!1):{...u,...a.editableEvents}}),g=O(()=>{const{view:u}=l,{eventCount:s}=a;return(Array.isArray(s)?s.includes(u.id):s)&&(u.isMonth&&!a.eventsOnMonthView||u.isYear)}),h=O(()=>a.allDayEvents&&a.time!==!1&&!Y.isMonth),m=O(()=>a.timeAtCursor&&a.time!==!1),v=async u=>{var f;let s=Object.assign({"../i18n/ar.json":()=>w(()=>import("./ar-BgL0e-US.js"),[]).then(t=>t.default),"../i18n/bg.json":()=>w(()=>import("./bg-B9bio1qW.js"),[]).then(t=>t.default),"../i18n/bn.json":()=>w(()=>import("./bn-0ENUmuHY.js"),[]).then(t=>t.default),"../i18n/bs.json":()=>w(()=>import("./bs-LrTpqKaV.js"),[]).then(t=>t.default),"../i18n/ca.json":()=>w(()=>import("./ca-BNzwY8AQ.js"),[]).then(t=>t.default),"../i18n/cs.json":()=>w(()=>import("./cs-BKu9qpIc.js"),[]).then(t=>t.default),"../i18n/da.json":()=>w(()=>import("./da-Bzq3aJPY.js"),[]).then(t=>t.default),"../i18n/de.json":()=>w(()=>import("./de-DxvdjJyS.js"),[]).then(t=>t.default),"../i18n/el.json":()=>w(()=>import("./el-BijjcpDW.js"),[]).then(t=>t.default),"../i18n/en-gb.json":()=>w(()=>import("./en-gb-BN6UPcbr.js"),[]).then(t=>t.default),"../i18n/en-us.json":()=>w(()=>Promise.resolve().then(()=>tt),void 0).then(t=>t.default),"../i18n/es.json":()=>w(()=>import("./es-B09aix2b.js"),[]).then(t=>t.default),"../i18n/et.json":()=>w(()=>import("./et-BN0u-wFS.js"),[]).then(t=>t.default),"../i18n/fa.json":()=>w(()=>import("./fa-CpAJGCrY.js"),[]).then(t=>t.default),"../i18n/fi.json":()=>w(()=>import("./fi-C3bvOL2F.js"),[]).then(t=>t.default),"../i18n/fr.json":()=>w(()=>import("./fr-GKuwB6u6.js"),[]).then(t=>t.default),"../i18n/he.json":()=>w(()=>import("./he-BHiXGmJj.js"),[]).then(t=>t.default),"../i18n/hr.json":()=>w(()=>import("./hr-DzfVcLED.js"),[]).then(t=>t.default),"../i18n/hu.json":()=>w(()=>import("./hu-D5f_-VfF.js"),[]).then(t=>t.default),"../i18n/id.json":()=>w(()=>import("./id-C4V9iQKh.js"),[]).then(t=>t.default),"../i18n/is.json":()=>w(()=>import("./is-BWBbdtI7.js"),[]).then(t=>t.default),"../i18n/it.json":()=>w(()=>import("./it-BYE8Pv4L.js"),[]).then(t=>t.default),"../i18n/ja.json":()=>w(()=>import("./ja-B8msjcsp.js"),[]).then(t=>t.default),"../i18n/ka.json":()=>w(()=>import("./ka-DQi2yEGJ.js"),[]).then(t=>t.default),"../i18n/kaa.json":()=>w(()=>import("./kaa-DaMxLk9y.js"),[]).then(t=>t.default),"../i18n/kk.json":()=>w(()=>import("./kk-4mxrIsUV.js"),[]).then(t=>t.default),"../i18n/ko.json":()=>w(()=>import("./ko-AocIJJnA.js"),[]).then(t=>t.default),"../i18n/ky.json":()=>w(()=>import("./ky-BD3JJAAP.js"),[]).then(t=>t.default),"../i18n/lt.json":()=>w(()=>import("./lt-CSQtJejA.js"),[]).then(t=>t.default),"../i18n/mn.json":()=>w(()=>import("./mn-BJnxERff.js"),[]).then(t=>t.default),"../i18n/nl.json":()=>w(()=>import("./nl-CF0acleB.js"),[]).then(t=>t.default),"../i18n/no.json":()=>w(()=>import("./no-BGhZJ8qx.js"),[]).then(t=>t.default),"../i18n/pl.json":()=>w(()=>import("./pl-CbNmkzff.js"),[]).then(t=>t.default),"../i18n/pt-br.json":()=>w(()=>import("./pt-br-CNJ2qZf8.js"),[]).then(t=>t.default),"../i18n/pt-pt.json":()=>w(()=>import("./pt-pt-CNJ2qZf8.js"),[]).then(t=>t.default),"../i18n/ro.json":()=>w(()=>import("./ro-jPnrebdN.js"),[]).then(t=>t.default),"../i18n/ru.json":()=>w(()=>import("./ru-Dg56i-yU.js"),[]).then(t=>t.default),"../i18n/sk.json":()=>w(()=>import("./sk-DWxkOgqG.js"),[]).then(t=>t.default),"../i18n/sl.json":()=>w(()=>import("./sl-BREPxRb5.js"),[]).then(t=>t.default),"../i18n/sq.json":()=>w(()=>import("./sq-txfbjBxq.js"),[]).then(t=>t.default),"../i18n/sr.json":()=>w(()=>import("./sr-Tj68iq_e.js"),[]).then(t=>t.default),"../i18n/sv.json":()=>w(()=>import("./sv-DytNY891.js"),[]).then(t=>t.default),"../i18n/tr.json":()=>w(()=>import("./tr-C8S6NMuF.js"),[]).then(t=>t.default),"../i18n/uk.json":()=>w(()=>import("./uk-Ca_EQAdD.js"),[]).then(t=>t.default),"../i18n/uz-cryl.json":()=>w(()=>import("./uz-cryl-CHkFNWUU.js"),[]).then(t=>t.default),"../i18n/uz.json":()=>w(()=>import("./uz-7_H-3_ey.js"),[]).then(t=>t.default),"../i18n/vi.json":()=>w(()=>import("./vi-0TvgrJx7.js"),[]).then(t=>t.default),"../i18n/zh-cn.json":()=>w(()=>import("./zh-cn-C_KCVIlc.js"),[]).then(t=>t.default),"../i18n/zh-hk.json":()=>w(()=>import("./zh-hk-D2YpcFnT.js"),[]).then(t=>t.default)});{if(!s[`../i18n/${u}.json`]){console.warn(`Vue Cal: the locale \`${u}\` does not exist. Falling back to \`en-us\`.`),u="en-us";return}s=await((f=s[`../i18n/${u}.json`])==null?void 0:f.call(s))}l.texts=Object.assign(l.texts,Object.assign({...B.texts},s)),I.updateTexts(l.texts)},c=de(a.events||[]);return te(()=>a.events,u=>c.splice(0,c.length,...u)),te(()=>a.locale,u=>v(u||"en-us")),(a.locale||!l.texts.today)&&v(a.locale||"en-us"),{...Xe(a),events:c,eventListeners:N,defaultView:K,availableViews:P,disableDays:q,ready:R,sm:J,xs:p,clickToNavigate:Z,hideWeekdays:x,hideWeekends:k,minTimestamp:_,maxTimestamp:T,schedules:$,selectedDate:o,editableEvents:e,showCellEventCount:g,allDayEvents:h,timeAtCursor:m,view:Y,get hasHiddenDays(){return Object.keys(x.value).length},get size(){return p.value?"xs":J.value?"sm":"lg"},loadTexts:v}},st=(l,a)=>{const D=a.timeTo-a.timeFrom;return(l-a.timeFrom)*100/D},Te=(l,a)=>{const D=a.timeTo-a.timeFrom;return~~(l*D/100+a.timeFrom)},Ke=(l,a)=>{const D=a.clientHeight;return l*100/D},he=de({id:null,date:null});let Ee=!1,_e=!0;const ne=de({el:null,cell:null,timeout:null}),ae=de({eventId:null,fromVueCal:null,toVueCal:null});function Qe(l){const{config:a,view:D,eventsManager:I,emit:R,uid:Y,dateUtils:J}=l,p=_=>{var v;const{timeStep:T,timeCellHeight:$,timeFrom:e}=a,g=(((v=_.touches)==null?void 0:v[0])||_).clientY,{top:h}=_.currentTarget.getBoundingClientRect(),m=g-h-~~_.dataTransfer.getData("cursor-grab-at");return Te(Ke(m,_.currentTarget),a)},Z=(_,T,$)=>{const e=T.duration||N(T.start,T.end)||a.timeStep;let g=Math.max(p(_),0);if(a.snapToInterval){const c=g+a.snapToInterval/2;g=c-c%a.snapToInterval}const h=new Date(new Date($).setMinutes(g)),m=Math.min(g+e,1440),v=new Date(new Date($).setMinutes(m));return{start:h,end:v}},N=(_,T)=>Math.round((T-_)/6e4);return{eventDragStart:(_,T)=>{if(_.target.nodeType===3||l.touch.isResizingEvent)return _.preventDefault();_.dataTransfer.effectAllowed="move",_.dataTransfer.dropEffect="move";const $={...T,_:{id:T._.id,duration:N(T.start,T.end)}};try{_.dataTransfer.setData("text/plain",""),_.dataTransfer.setData("event",JSON.stringify($)),_.dataTransfer.setData("cursor-grab-at",_.offsetY)}catch(g){return console.warn("Vue Cal: Failed to set drag data:",g),_.preventDefault()}ae.eventId=T._.id,ae.fromVueCal=Y,R("event-drag-start",{e:_,event:T});const e=_.target.closest(".vuecal__event");e.classList.add("vuecal__event--dragging-ghost"),setTimeout(()=>{e.classList.add("vuecal__event--dragging-original"),e.classList.remove("vuecal__event--dragging-ghost")},0),Ee=!1,Object.assign(he,{id:D.id,date:D.firstCellDate}),_e=!0,l.touch.isDraggingEvent=!0},eventDragEnd:(_,T)=>{ae.eventId=null,_.target.closest(".vuecal__event").classList.remove("vuecal__event--dragging-original");const{fromVueCal:$,toVueCal:e}=ae;e&&$!==e&&I.deleteEvent(T._.id,3),Ee&&_e&&he.id&&D.switchView(he.id,he.date,!0),R("event-drag-end",{e:_,event:T,external:ae.fromVueCal!==Y}),ae.fromVueCal=null,ae.toVueCal=null,l.touch.isDraggingEvent=!1},cellDragEnter:(_,T)=>{const{start:$}=T,e=_.currentTarget;if(!_.currentTarget.contains(_.relatedTarget)){if(e===ne.el||!e.className.includes("vuecal__cell-content"))return!1;ne.el&&(ne.cell.highlighted=!1),Object.assign(ne,{el:e,cell:T,timeout:clearTimeout(ne.timeout)}),T.highlighted=!0,["years","year","month"].includes(D.id)&&(ne.timeout=setTimeout(()=>l.switchToNarrowerView($),2e3))}},cellDragOver:(_,T)=>{const{start:$,schedule:e}=T;_.preventDefault(),T.highlighted=!0,(e||e===0)&&(T.highlightedSchedule=e)},cellDragLeave:(_,T)=>{_.preventDefault(),!_.currentTarget.contains(_.relatedTarget)&&(T.highlightedSchedule=!1,ne.cell===T&&(clearTimeout(ne.timeout),Object.assign(ne,{el:null,cell:null,timeout:null}),T.highlighted=!1))},cellDragDrop:async(_,T,$=!1)=>{var f,t,y;_.preventDefault(),clearTimeout(ne.timeout),Object.assign(ne,{el:null,cell:null,timeout:null});const e=JSON.parse(_.dataTransfer.getData("event")||"{}");e.start&&(e.start=new Date(e.start)),e.end&&(e.end=new Date(e.end));let g,h,m;$?(h=new Date(T.start),m=new Date(T.end)):{start:h,end:m}=Z(_,e,T.start);const{schedule:v}=((f=_.target.closest("[data-schedule]"))==null?void 0:f.dataset)||{};let c=()=>{};ae.fromVueCal===Y?(g=I.getEvent(e._.id),g&&(g._.dragging=!1,c=b=>{if(g.start=h,g.end=m,g.allDay=$,v!==void 0&&(g.schedule=~~v),b&&typeof b=="object"){const{_:C,...z}=b;Object.assign(g,z)}})):(g={...e,start:h,end:m,...v!==void 0&&{schedule:~~v},_:{id:((t=e._)==null?void 0:t.id)||e.id,duration:N(h,m)},getOverlappingEvents:()=>I.getEventsInRange(h,m,{schedule:~~v})},c=b=>{if(g=I.createEvent(g),b&&typeof b=="object"){const{_:C,...z}=b;Object.assign(g,z)}});let u=!0;const{drop:s}=(y=a.eventListeners)==null?void 0:y.event;s&&(u=await s({e:_,event:{...g,start:h,end:m,schedule:~~v},overlaps:g.getOverlappingEvents({start:h,end:m,schedule:~~v}),cell:T,external:ae.fromVueCal!==Y})),u!==!1&&c(u),T.highlighted=!1,T.highlightedSchedule=null,_e=!1,ae.toVueCal=Y,R("event-dropped",{e:_,cell:T,event:g,originalEvent:e,external:ae.fromVueCal!==Y})}}}const be=(l,a)=>{let D,I,R,Y={},J={};const p=ce(l),Z=()=>{p.value.today||(p.value=a),Date.prototype.addDays=function(n){return P(this,n||0)},Date.prototype.subtractDays=function(n){return K(this,n||0)},Date.prototype.addHours=function(n){return o(this,n||0)},Date.prototype.subtractHours=function(n){return q(this,n||0)},Date.prototype.addMinutes=function(n){return _(this,n||0)},Date.prototype.subtractMinutes=function(n){return T(this,n||0)},Date.prototype.getWeek=function(){return e(this)},Date.prototype.isToday=function(){return g(this)},Date.prototype.isLeapYear=function(){return v(this)},Date.prototype.format=function(n="YYYY-MM-DD"){return b(this,n)},Date.prototype.formatTime=function(n="HH:mm"){return z(this,n)}},N=()=>{delete Date.prototype.addDays,delete Date.prototype.subtractDays,delete Date.prototype.addHours,delete Date.prototype.subtractHours,delete Date.prototype.addMinutes,delete Date.prototype.subtractMinutes,delete Date.prototype.getWeek,delete Date.prototype.isToday,delete Date.prototype.isLeapYear,delete Date.prototype.format,delete Date.prototype.formatTime},x=n=>{p.value=n,Date.prototype.subtractDays&&Z()},k=()=>(I!==new Date().getDate()&&(D=new Date,I=D.getDate(),R=`${D.getFullYear()}-${D.getMonth()}-${D.getDate()}`),R),P=(n,d)=>{const i=new Date(n.valueOf());return i.setDate(i.getDate()+d),i},K=(n,d)=>{const i=new Date(n.valueOf());return i.setDate(i.getDate()-d),i},o=(n,d)=>{const i=new Date(n.valueOf());return i.setHours(i.getHours()+d),i},q=(n,d)=>{const i=new Date(n.valueOf());return i.setHours(i.getHours()-d),i},_=(n,d)=>{const i=new Date(n.valueOf());return i.setMinutes(i.getMinutes()+d),i},T=(n,d)=>{const i=new Date(n.valueOf());return i.setMinutes(i.getMinutes()-d),i},$=(n,d)=>{const i=M=>{const j=M%d;return j!==0&&(M+=j>=d/2?d-j:-j),M};if(typeof n=="number")return i(n);if(n instanceof Date){let M=i(n.getMinutes());M>=60&&(n.setHours(n.getHours()+1),M=0),n.setMinutes(M,0,0)}},e=(n,d=!1)=>{const i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),M=i.getUTCDay()||7;i.setUTCDate(i.getUTCDate()+4-M);const j=new Date(Date.UTC(i.getUTCFullYear(),0,1));return Math.ceil(((i-j)/864e5+1)/7)+(d?1:0)},g=n=>`${n.getFullYear()}-${n.getMonth()}-${n.getDate()}`===k(),h=(n,d)=>{if(!n||!d)return console.warn(`Vue Cal: missing date${n?"2":"1"} parameter for comparison with \`isSameDate(date1, date2)\`.`);if(y(n)){if(!y(d))return console.warn(`Vue Cal: invalid date2 provided for comparison with \`isSameDate(date1, date2)\`: \`${d}\`.`)}else return console.warn(`Vue Cal: invalid date1 provided for comparison with \`isSameDate(date1, date2)\`: \`${n}\`.`);return n.getFullYear()===d.getFullYear()&&n.getMonth()===d.getMonth()&&n.getDate()===d.getDate()},m=(n,d,i)=>y(n)?n.getTime()>=d&&n.getTime()<=i:console.warn(`Vue Cal: invalid date provided to \`isInRange(date, rangeStart, rangeEnd)\`: \`${n}\`.`),v=n=>{const d=n.getFullYear();return!(d%400)||d%100&&!(d%4)},c=(n=null,d)=>{const i=n&&new Date(n.valueOf())||new Date,M=d?7:6;return i.setDate(i.getDate()-(i.getDay()+M)%7),i},u=n=>n instanceof Date?n:(n.length===10&&(n+=" 00:00"),new Date(n.replace(/-/g,"/"))),s=n=>n.getHours()*60+n.getMinutes(),f=(n,d)=>{typeof n=="string"&&(n=n.replace(/-/g,"/")),typeof d=="string"&&(d=d.replace(/-/g,"/")),n=new Date(n).setHours(0,0,0,0),d=new Date(d).setHours(0,0,1,0);const i=(new Date(d).getTimezoneOffset()-new Date(n).getTimezoneOffset())*60*1e3;return Math.ceil((d-n-i)/(24*3600*1e3))},t=(n,d,i)=>Math.abs(n.getTime()-d.getTime())<=i*60*1e3,y=n=>n&&n instanceof Date&&!isNaN(n),b=(n,d="YYYY-MM-DD",i=null)=>{if(i||(i=p.value),d||(d="YYYY-MM-DD"),d==="YYYY-MM-DD")return C(n);Y={},J={};const M={YYYY:()=>W(n,i).YYYY,YY:()=>W(n,i).YY(),M:()=>W(n,i).M,MM:()=>W(n,i).MM(),MMM:()=>W(n,i).MMM(),MMMM:()=>W(n,i).MMMM(),MMMMG:()=>W(n,i).MMMMG(),D:()=>W(n,i).D,DD:()=>W(n,i).DD(),S:()=>W(n,i).S(),d:()=>W(n,i).d,dd:()=>W(n,i).dd(),ddd:()=>W(n,i).ddd(),dddd:()=>W(n,i).dddd(),HH:()=>G(n,i).HH,H:()=>G(n,i).H,hh:()=>G(n,i).hh,h:()=>G(n,i).h,am:()=>G(n,i).am,AM:()=>G(n,i).AM,mm:()=>G(n,i).mm,m:()=>G(n,i).m,s:()=>G(n,i).s};return d.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(j,Q)=>{const H=M[Q.replace(/\{|\}/g,"")];return H!==void 0?H():Q})},C=n=>{const d=n.getMonth()+1,i=n.getDate();return`${n.getFullYear()}-${d<10?"0":""}${d}-${i<10?"0":""}${i}`},z=(n,d="HH:mm",i=null,M=!1)=>{let j=!1;if(M){const[se,ee,X]=[n.getHours(),n.getMinutes(),n.getSeconds()];se+ee+X===141&&(j=!0)}if(n instanceof Date&&d==="HH:mm")return j?"24:00":A(n);J={},i||(i=p.value);const Q=G(n,i),H=d.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(se,ee)=>{const X=Q[ee.replace(/\{|\}/g,"")];return X!==void 0?X:ee});return j?H.replace("23:59","24:00"):H},A=n=>{const d=n.getHours(),i=n.getMinutes();return`${(d<10?"0":"")+d}:${(i<10?"0":"")+i}`},F=n=>{const d=Math.floor(n/60).toString().padStart(2,0),i=(n%60).toString().padStart(2,0);return`${d}:${i}`},L=n=>{if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},W=(n,d)=>{if(Y.D)return Y;const i=n.getFullYear(),M=n.getMonth()+1,j=n.getDate(),H=(n.getDay()-1+7)%7;return Y={YYYY:i,YY:()=>i.toString().substring(2),M,MM:()=>M.toString().padStart(2,0),MMM:()=>d.months[M-1].substring(0,3),MMMM:()=>d.months[M-1],MMMMG:()=>(d.monthsGenitive||d.months)[M-1],D:j,DD:()=>j.toString().padStart(2,0),S:()=>L(j),d:H+1,dd:()=>d.weekDaysShort.length?d.weekDaysShort[H]:d.weekDays[H][0],ddd:()=>d.weekDaysShort.length?d.weekDaysShort[H]:d.weekDays[H].substr(0,3),dddd:()=>d.weekDays[H]},Y},G=(n,d)=>{if(J.am)return J;let i,M,j;n instanceof Date?(i=n.getHours(),M=n.getMinutes(),j=n.getSeconds()):(i=Math.floor(n/60),M=Math.floor(n%60));const Q=i%12?i%12:12,H=(d||{am:"am",pm:"pm"})[i===24||i<12?"am":"pm"];return J={H:i,h:Q,HH:i.toString().padStart(2,0),hh:Q.toString().padStart(2,0),am:H,AM:H.toUpperCase(),m:M,mm:M.toString().padStart(2,0),s:j},J};return{addDatePrototypes:Z,removeDatePrototypes:N,updateTexts:x,addDays:P,subtractDays:K,addHours:o,subtractHours:q,addMinutes:_,subtractMinutes:T,snapToInterval:$,getWeek:e,isToday:g,isSameDate:h,isInRange:m,isLeapYear:v,getPreviousFirstDayOfWeek:c,stringToDate:u,dateToMinutes:s,countDays:f,datesInSameTimeStep:t,isValid:y,formatDate:b,formatDateLite:C,formatTime:z,formatTimeLite:A,formatMinutes:F}},Ue=l=>{const{dateUtils:a,config:D}=l;let I=0;const R=O(()=>{var h,m,v,c,u;const e={byYear:{},byDate:{},recurring:[],multiday:[],byId:{}},g=D.events.slice().sort((s,f)=>s.start-f.start<0?-1:1);for(let s of g){const f=typeof s.start=="string"||typeof s.end=="string",t=!((h=s._)!=null&&h.register)||!s.isOverlapping||!s.delete;let y=!1;if(!f&&((m=s._)!=null&&m.cachedStart)&&((v=s._)!=null&&v.cachedEnd)&&(y=s.start.getTime()!==((c=s._)==null?void 0:c.cachedStart)||s.end.getTime()!==((u=s._)==null?void 0:u.cachedEnd)),f||t||y){if(!Y(s))continue;J(s),s._.cachedStart=s.start.getTime(),s._.cachedEnd=s.end.getTime()}if(e.byId[s._.id]=s,s.recurring)e.recurring.push(s._.id);else if(!a.isSameDate(s.start,new Date(s.end.getTime()-1)))s._.multiday=D.multidayEvents,D.multidayEvents?e.multiday.push(s._.id):(console.info("Vue Cal: Multi-day events provided without being enabled. Truncating event end to next midnight."),s.end=new Date(new Date(s.start).setHours(23,59,59,999)),J(s)),e.byDate[s._.startFormatted]||(e.byDate[s._.startFormatted]=[]),e.byDate[s._.startFormatted].push(s._.id);else{e.byDate[s._.startFormatted]||(e.byDate[s._.startFormatted]=[]),e.byDate[s._.startFormatted].push(s._.id);const b=s._.startFormatted.substring(0,4),C=s._.startFormatted.substring(5,7),z=s._.startFormatted.substring(8,10);e.byYear[b]||(e.byYear[b]={}),e.byYear[b][C]||(e.byYear[b][C]={}),e.byYear[b][C][z]||(e.byYear[b][C][z]=[]),e.byYear[b][C][z].push(s._.id)}}return e}),Y=e=>!e.start||!e.end?(console.error("Vue Cal: Event is missing start or end date",e),!1):(typeof e.start=="string"&&(e.start=a.stringToDate(e.start)),typeof e.end=="string"&&(e.end=a.stringToDate(e.end)),e.start.setSeconds(0,0),e.end.getSeconds()===59?e.end.setMinutes(e.end.getMinutes()+1,0,0):e.end.setSeconds(0,0),isNaN(e.start)||isNaN(e.end)||e.end.getTime()<e.start.getTime()?(isNaN(e.start)?console.error(`Vue Cal: invalid start date for event "${e.title}".`,e.start):isNaN(e.end)?console.error(`Vue Cal: invalid end date for event "${e.title}".`,e.end):console.error(`Vue Cal: invalid event dates for event "${e.title}". The event ends before it starts.`,e.start,e.end),!1):!0),J=e=>{e._||(e._={}),e._.id=e._.id||++I,e._.multiday=!a.isSameDate(e.start,new Date(e.end.getTime()-1)),e._.startFormatted=a.formatDate(e.start),e._.endFormatted=a.formatDate(e.end),e._.startMinutes=~~a.dateToMinutes(e.start),e._.endMinutes=~~a.dateToMinutes(e.end);const g=e.start.getHours(),h=e.start.getMinutes().toString().padStart(2,0),m=e.end.getHours(),v=e.end.getMinutes().toString().padStart(2,0);e._.startTimeFormatted24=`${g.toString().padStart(2,0)}:${h}`,e._.startTimeFormatted12=`${g%12||12}${h?`:${h}`:""} ${g<12?"AM":"PM"}`,e._.endTimeFormatted24=`${m.toString().padStart(2,0)}:${v}`,e._.endTimeFormatted12=`${m%12||12}${v?`:${v}`:""} ${m<12?"AM":"PM"}`,e._.duration=Math.abs(~~((e.end-e.start)/6e4)),e.delete||(e.delete=function(c){return x(this._.id,c)}),e._.deleting===void 0&&(e._.deleting=!1),e._.deleted===void 0&&(e._.deleted=!1),e.isOverlapping||(e.isOverlapping=function(c=null){return this.getOverlappingEvents(c).length}),e.getOverlappingEvents||(e.getOverlappingEvents=function(c=null){var t;const u=(c==null?void 0:c.start)||this.start,s=(c==null?void 0:c.end)||this.end,f=(t=D.schedules)!=null&&t.length?~~((c==null?void 0:c.schedule)||this.schedule):null;return P(u,s,{excludeIds:[this._.id],schedule:f})}),e._.register||(e._.register=c=>{e._.$el=c,e._.fireCreated&&(l.emit("event-created",e),delete e._.fireCreated)}),e._.unregister||(e._.unregister=()=>{e._.$el=null,e._.register=null,e.isOverlapping=null,e.getOverlappingEvents=null,e.delete=null})},p=e=>R.value.byId[e],Z=e=>{const g=[];for(const{start:h,end:m}of e){const v=P(h,m);v.length&&g.push(...v)}return g},N=e=>{if(!e.start||!e.end){console.error("Vue Cal: Cannot create an event without valid start and end dates.");return}return D.snapToInterval&&(a.snapToInterval(e.start,D.snapToInterval),a.snapToInterval(e.end,D.snapToInterval)),e={...e},e._||(e._={}),e._.id=++I,e._.fireCreated=!0,D.events.push(e),e},x=async(e,g=0)=>{var u,s;if(!e)return console.warn("Vue Cal: Cannot delete event without its ID or criteria.");let h=typeof e=="string"||!isNaN(e)?e:null;const m=typeof e=="object"?Object.entries(e):null;if(m){const[f,t]=m[0];h=(u=D.events.find(y=>y[f]===t))==null?void 0:u._.id}if(!D.editableEvents.delete)return console.info("Vue Cal: Event deletion is disabled. Enable it with the `editable-events` props.");if(!h)return console.warn("Vue Cal: Cannot delete event without its ID.");const v=D.events.findIndex(f=>f._.id===h);if(v===-1)return console.warn(`Vue Cal: Cannot delete unknown event \`${h}\`.`);const c=D.events[v];if(c.deletable===!1)return console.warn(`Vue Cal: Can't delete event \`${h}\` since it was explicitely set to \`delete: false\`.`);switch(g){case 0:c._.deleting?D.events.splice(v,1):c._.deleting=!0;break;case 1:c._.deleting=!0;break;case 2:c._.deleted=!0,D.events[v]._.deleted=!0,(s=c._.$el)==null||s.dispatchEvent(new CustomEvent("event-deleted",{detail:c._.id}));break;case 3:D.events.splice(v,1),l.emit("update:events",D.events),l.emit("event-delete",c);break}return!0},k=(e,g,h)=>{const m=D.allDayEvents?{allDay:h}:{},v=P(e,g,{background:!1,...m});if(!v.length)return{cellOverlaps:{},longestStreak:0};const c={};let u=[],s=0;v.sort((f,t)=>f.start-t.start||f.end-f.start-(t.end-t.start));for(const f of v){const t=f._.id;c[t]||(c[t]={overlaps:new Set,maxConcurrent:1,position:0}),u=u.filter(A=>A.end>f.start);const y=u.filter(A=>{var L;return(!((L=D.schedules)!=null&&L.length)||f.schedule===A.schedule)&&A.start<f.end}),b=new Set(y.map(A=>{var F;return((F=c[A._.id])==null?void 0:F.position)??0}));let C=0;for(;b.has(C);)C++;c[t].position=C,u.push(f);const z=Math.max(1,...y.map(A=>{var F;return((F=c[A._.id])==null?void 0:F.maxConcurrent)??1}));c[t].maxConcurrent=Math.max(y.length+1,z);for(const A of y)c[A._.id].overlaps.add(t),c[t].overlaps.add(A._.id),c[A._.id].maxConcurrent=c[t].maxConcurrent;s=Math.max(s,c[t].maxConcurrent)}for(const f in c)c[f].overlaps=[...c[f].overlaps];return{cellOverlaps:c,longestStreak:s}},P=(e,g,{excludeIds:h=[],schedule:m=null,background:v=!0,allDay:c=!1}={})=>{if(!Object.keys(R.value.byId).length)return[];const u=e.getFullYear(),s=g.getFullYear(),f=e.getMonth()+1,t=g.getMonth()+1,y=e.getDate(),b=g.getDate();e.getTime(),g.getTime();const C=new Date(e).setHours(0,0,0,0),z=new Date(g).setHours(23,59,59,999),A=new Set(h),F=[];if(Object.keys(R.value.byId).length<=100){for(const L of Object.values(R.value.byId))!L||A.has(L._.id)||m!==null&&m!==L.schedule||v===!1&&L.background||D.allDayEvents&&(c&&!L.allDay||!c&&L.allDay)||L.start.getTime()<z&&L.end.getTime()>C&&F.push(L);return F}for(let L=u;L<=s;L++){const W=`${L}`,G=R.value.byYear[W];if(!G)continue;const n=L===u?f:1,d=L===s?t:12;for(let i=n;i<=d;i++){const M=String(i).padStart(2,"0"),j=G[M];if(j)for(const Q in j){const H=+Q;if(H>b||H<y)continue;const se=j[Q];if(se!=null&&se.length)for(let ee=0;ee<se.length;ee++){const X=R.value.byId[se[ee]];!X||A.has(X._.id)||m!==null&&m!==X.schedule||v===!1&&X.background||D.allDayEvents&&(c&&!X.allDay||!c&&X.allDay)||X.start.getTime()<z&&X.end.getTime()>C&&F.push(X)}}}}return F},K=(e,g,h)=>{const m=e.allDay||!D.time,v=m?new Date(e.start).setHours(0,0,0,0):e.start.getTime(),c=m?new Date(e.end).setHours(23,59,59,999):e.end.getTime(),u=m?new Date(g).setHours(0,0,0,0):g.getTime(),s=m?new Date(h).setHours(23,59,59,999):h.getTime();return c>u&&v<s},o=de({isResizing:!1,fromResizer:!1,resizingEvent:null,resizingOriginalEvent:null,resizingLastAcceptedEvent:null,startX:0,startY:0,startPercentageX:0,startPercentageY:0,moveX:0,moveY:0,movePercentageX:0,movePercentageY:0,documentMouseX:0,documentMouseY:0,resizeStartDate:null,cellEl:null,schedule:null}),q=(e,g)=>{var c;let h=Te(o.movePercentageY,D);if(h=Math.max(0,Math.min(h,1440)),D.snapToInterval){const u=h+D.snapToInterval/2;h=u-u%D.snapToInterval}let m=e.start,v=new Date(g.getTime()+h*6e4);return o.moveX&&((c=l.touch)!=null&&c.currentHoveredCell)&&o.cellEl&&new Date(l.touch.currentHoveredCell.__vueParentComponent.props.start),v<o.resizeStartDate&&(m=v,v=o.resizeStartDate),{newStart:m,newEnd:v}},_=async e=>{var m,v,c,u,s;const{clientX:g,clientY:h}=((m=e.touches)==null?void 0:m[0])||e;if(o.fromResizer&&!((v=l.touch)!=null&&v.isResizingEvent)){o.resizingOriginalEvent={...o.resizingEvent,_:{...o.resizingEvent._}},l.touch.isResizingEvent=!0;const f=((c=D.eventListeners)==null?void 0:c.event)||{};(u=f["resize-start"])==null||u.call(f,{e,event:o.resizingEvent})}if(o.cellEl){const{top:f,left:t,width:y,height:b}=o.cellEl.getBoundingClientRect();o.moveX=g-t,o.moveY=h-f,o.movePercentageX=o.moveX*100/y,o.movePercentageY=o.moveY*100/b}if(o.documentMouseX=g,o.documentMouseY=h,o.fromResizer&&o.resizingEvent){const f=o.cellEl.__vueParentComponent.props.start,{newStart:t,newEnd:y}=q(o.resizingEvent,f);let b=!0;const{resize:C}=((s=D.eventListeners)==null?void 0:s.event)||{};C&&(b=await C({e,event:{...o.resizingEvent,start:t,end:y},overlaps:o.resizingEvent.getOverlappingEvents({start:t,end:y})})),b!==!1?(o.resizingEvent.start=t,o.resizingEvent.end=y,o.resizingLastAcceptedEvent&&(o.resizingLastAcceptedEvent=null),e.preventDefault()):C&&(o.resizingLastAcceptedEvent={...o.resizingEvent,_:{...o.resizingEvent._}})}},T=async e=>{var g,h,m,v;if((g=l.touch)!=null&&g.isResizingEvent&&o.resizingEvent){const c=o.cellEl.__vueParentComponent.props.start,{newStart:u,newEnd:s}=q(o.resizingEvent,c);let f=!0;const y=(((h=D.eventListeners)==null?void 0:h.event)||{})["resize-end"];y&&(f=await y({e,event:o.resizingEvent,original:o.resizingOriginalEvent,overlaps:o.resizingEvent.getOverlappingEvents({start:u,end:s})})),o.resizingEvent.start=f===!1?(o.resizingLastAcceptedEvent||o.resizingOriginalEvent).start:((m=o.resizingLastAcceptedEvent)==null?void 0:m.start)||u,o.resizingEvent.end=f===!1?(o.resizingLastAcceptedEvent||o.resizingOriginalEvent).end:((v=o.resizingLastAcceptedEvent)==null?void 0:v.end)||s,o.resizingEvent._.duration<1&&(o.resizingEvent.start=o.resizingOriginalEvent.start,o.resizingEvent.end=o.resizingOriginalEvent.end),l.touch.isResizingEvent=!1,l.touch.currentHoveredCell=null}document.removeEventListener(e.type==="touchend"?"touchmove":"mousemove",_,{passive:!o.fromResizer}),l.touch.isResizingEvent=!1,o.fromResizer=!1,o.resizingEvent=null,o.resizingOriginalEvent=null,o.resizingLastAcceptedEvent=null,o.startX=0,o.startY=0,o.moveX=0,o.moveY=0,o.startPercentageX=0,o.startPercentageY=0,o.movePercentageX=0,o.movePercentageY=0,o.documentMouseX=0,o.documentMouseY=0,o.cellEl=null,o.resizeStartDate=null,o.schedule=null};return{events:R,resizeState:o,getEvent:p,getViewEvents:Z,getCellOverlappingEvents:k,getEventsInRange:P,createEvent:N,deleteEvent:x,isEventInRange:K,handleEventResize:(e,g,h)=>{var v;const m=((v=e.touches)==null?void 0:v[0])||e;if(o.fromResizer=!!m.target.closest(".vuecal__event-resizer"),o.fromResizer){const c=h.getBoundingClientRect();o.startX=m.clientX-c.left,o.startY=m.clientY-c.top,o.startPercentageX=o.startX*100/c.width,o.startPercentageY=o.startY*100/c.height,o.cellEl=h.closest(".vuecal__cell"),o.resizeStartDate=g.start,o.resizingEvent=g,document.addEventListener(e.type==="touchstart"?"touchmove":"mousemove",_,{passive:!o.fromResizer}),document.addEventListener(e.type==="touchstart"?"touchend":"mouseup",T,{once:!0})}}}},et=({config:l,dateUtils:a,emit:D,texts:I,eventsManager:R},Y)=>{const{availableViews:J}=l,p=ce(l.view&&J[l.view]?l.view:l.defaultView),Z=ce(l.selectedDate||null),N=ce(new Date),x=ce(new Date(l.viewDate||N.value));x.value.setHours(0,0,0,0);const k=ce(new Date(x));let P=null;const K=O(()=>p.value==="month"?k.value:v.value),o=O(()=>p.value==="month"?new Date(k.value.getFullYear(),k.value.getMonth()+1,0,23,59,59,999):u.value),q=O(()=>p.value==="week"?a.getPreviousFirstDayOfWeek(v.value,l.startWeekOnSunday):p.value==="month"?v.value:K.value),_=O(()=>{if(p.value==="week"){const r=a.addDays(q.value,7);return r.setMilliseconds(-1),r}return p.value==="month"?u.value:o.value}),T=O(()=>{const r=N.value.getTime();if(p.value==="week")return q.value.getTime()<=r&&r<=_.value.getTime();const E=v.value.getTime(),S=u.value.getTime();return E<=r&&r<=S});function $(){N.value=new Date,P=setTimeout($,60*1e3)}function e(){P=setTimeout($,(60-new Date().getSeconds())*1e3),$()}const g=O(()=>{if(!l.availableViews[p.value])return 1;let r=l.availableViews[p.value].cols;return l.hasHiddenDays&&["week","month"].includes(p.value)&&(r-=l.hasHiddenDays),r}),h=O(()=>{var r;return((r=l.availableViews[p.value])==null?void 0:r.rows)||1}),m=O(()=>g.value*h.value),v=O(()=>{if(p.value==="month"){let r=k.value.getDay()||7;return l.startWeekOnSunday&&!l.hideWeekdays[7]&&(r+=1),l.viewDayOffset&&(r-=l.viewDayOffset),a.subtractDays(k.value,r-1)}if(p.value==="week"){const r="1234567".split("").filter(S=>!Object.keys(l.hideWeekdays).includes(S));let E=Math.min(...r);return l.startWeekOnSunday&&!l.hideWeekdays[7]&&(E=1),l.viewDayOffset&&(E+=l.viewDayOffset),a.addDays(k.value,E-1)}return k.value}),c=O(()=>{const r=[],E=["days","week","month"].includes(p.value);let S=0;for(let V=0;V<m.value+S;V++)switch(p.value){case"day":case"days":case"week":case"month":{const U=a.addDays(v.value,V),me=U.getDay()||7;if(E&&l.hasHiddenDays&&l.hideWeekdays[me]){S++;continue}const ue=new Date(U);ue.setHours(23,59,59,999),r.push({start:U,startFormatted:a.formatDate(U),end:ue});break}case"year":r.push({start:new Date(v.value.getFullYear(),V,1,0,0,0,0),end:new Date(v.value.getFullYear(),V+1,0,23,59,59,999)});break;case"years":r.push({start:new Date(v.value.getFullYear()+V,0,1,0,0,0,0),end:new Date(v.value.getFullYear()+V+1,0,0,23,59,59,999)});break}return r}),u=O(()=>c.value[c.value.length-1].end),s=ce("right"),f=O(()=>{const r=Object.keys(l.availableViews);return r[r.indexOf(p.value)+1]}),t=O(()=>{const r=Object.keys(l.availableViews);return r[r.indexOf(p.value)-1]});function y(r,E,S=!1){if(!E||!E[r])return r+1;const V=E[r];return S&&typeof V=="string"?V.substring(0,3):V}function b(r,E,S){const{monthsArray:V,monthBeforeDay:U,canTruncate:me,xs:ue}=S,ie=r.getMonth(),oe=r.getFullYear(),le=E.getMonth(),ve=E.getFullYear(),De=ie!==le,Ne=oe!==ve,re=me&&(ue||De),fe=r.getDate(),ge=E.getDate();return Ne?U?`${y(ie,V,re)} ${fe}, ${oe} - ${y(le,V,re)} ${ge}, ${ve}`:`${fe} ${y(ie,V,re)} ${oe} - ${ge} ${y(le,V,re)} ${ve}`:De?U?`${y(ie,V,re)} ${fe} - ${y(le,V,re)} ${ge}, ${oe}`:`${fe} ${y(ie,V,re)} - ${ge} ${y(le,V,re)} ${oe}`:U?`${y(ie,V,re)} ${fe}-${ge}, ${oe}`:`${fe}-${ge} ${y(ie,V,re)} ${oe}`}const C=O(()=>{const{dateFormat:r,months:E,monthsGenitive:S,week:V,truncations:U}=I,me=l.locale,ue=U!==!1,ie=r.indexOf("M")<r.indexOf("D"),oe=S&&me==="el"?S:E;switch(p.value){case"day":return a.formatDate(v.value,r);case"days":case"week":{const le={monthsArray:oe,monthBeforeDay:ie,canTruncate:ue,xs:l.xs};let ve=b(v.value,u.value,le);if(p.value==="week"){const De=a.getWeek(v.value,l.startWeekOnSunday&&!l.hideWeekdays[7]);ve+=` <small>${V} ${De}</small>`}return ve}case"month":{const le=`${l.xs&&ue?"MMM":"MMMM"} YYYY`;return a.formatDate(K.value,le)}case"year":return v.value.getFullYear();case"years":return`${v.value.getFullYear()} - ${o.value.getFullYear()}`}});async function z(){switch(k.value=new Date(x.value||N.value),k.value.setHours(0,0,0,0),p.value){case"day":break;case"days":break;case"week":k.value=a.getPreviousFirstDayOfWeek(k.value,l.startWeekOnSunday&&!l.hideWeekdays[7]);break;case"month":k.value=new Date(k.value.getFullYear(),k.value.getMonth(),1,0,0,0,0);break;case"year":k.value=new Date(k.value.getFullYear(),0,1,0,0,0,0);break;case"years":k.value=new Date(k.value.getFullYear()-k.value.getFullYear()%m.value,0,1,0,0,0,0);break}N.value=new Date,l.ready&&(await Je(),D("view-change",{id:p.value,title:C.value,start:K.value,end:o.value,extendedStart:q.value,extendedEnd:_.value,cellDates:c.value,containsToday:T.value,events:pe.value}))}function A(r){const E=p.value,S=l.availableViews[E];r[E]&&JSON.stringify(r[E])===JSON.stringify(S)||z()}function F(r,E=!0,S=null){const V=Object.keys(l.availableViews);p.value===r&&!S||(V.includes(r)?(s.value=V.indexOf(r)<V.indexOf(p.value)?"left":"right",E&&p.value!==r&&D("update:view",r),p.value=r,S?M(S):z()):console.warn(`Vue Cal: the \`${r}\` view is not available.`))}function L(){f.value?F(f.value):console.warn("Vue Cal: no broader view is available.")}function W(){t.value?F(t.value):console.warn("Vue Cal: no narrower view is available.")}function G(){d(!1)}function n(){d(!0)}function d(r=!0){let E=new Date(x.value);switch(p.value){case"day":case"days":r?E=a.addDays(u.value,1):E=a.subtractDays(v.value,m.value);break;case"week":{r?(E=a.addDays(_.value,1),E.setHours(0,0,0,0)):E=a.subtractDays(q.value,m.value);break}case"month":{const S=r?1:-1;E=new Date(E.getFullYear(),E.getMonth()+S,1,0,0,0,0);break}case"year":{const S=r?1:-1;E=new Date(E.getFullYear()+S,1,1,0,0,0,0);break}case"years":{const S=r?m.value:-m.value;E=new Date(E.getFullYear()+S,1,1,0,0,0,0);break}}M(E)}function i(){const r=new Date;r.setHours(0,0,0,0),M(r)}function M(r,E=!0,S=!1){if(!a.isValid(r))return console.warn("Vue Cal: can't navigate to the given date: invalid date provided to `updateViewDate(date)`.");let[V,U]=[v.value,u.value];p.value==="month"&&([V,U]=[K.value,o.value]),(!a.isInRange(r,V,U)||S)&&(r.setHours(0,0,0,0),s.value=r.getTime()<V.getTime()?"left":"right",x.value=r,E&&D("update:viewDate",r),z())}function j(r,E=!0){if(!a.isValid(r))return console.warn("Vue Cal: can't update the selected date: invalid date provided to `updateSelectedDate(date)`.");const{isValid:S,isSameDate:V}=a;(!Z.value||!S(Z.value)||!V(r,Z.value))&&(r.setHours(0,0,0,0),Z.value=r,E&&D("update:selectedDate",r))}function Q(r){!r&&!k.value.getDay()?M(a.addDays(k.value,1),!0,!0):(s.value="left",z())}function H(r){r&&l.startWeekOnSunday&&!k.value.getDay()?M(a.addDays(k.value,1),!0,!0):!r&&l.startWeekOnSunday&&k.value.getDay()===1&&M(a.subtractDays(k.value,1),!0,!0)}function se(){z()}function ee(r){var V;const E=(V=Y.value)==null?void 0:V.querySelector(".vuecal__scrollable"),S=r?r*l.timeCellHeight/l.timeStep:0;E==null||E.scrollTo({top:S,behavior:"smooth"})}function X(){const r=new Date;ee(r.getHours()*60+r.getMinutes())}function Fe(){ee(0)}const pe=O(()=>R.getViewEvents(c.value)),We=R.createEvent,xe=R.deleteEvent;return te(()=>l.view,r=>F(r,!1)),te(()=>l.availableViews,A),te(()=>l.datePicker,()=>F("month")),te(()=>l.viewDate,r=>M(r,!1)),te(()=>l.selectedDate,r=>j(r,!1)),te(()=>l.startWeekOnSunday,r=>Q(r)),te(()=>l.hideWeekends,r=>H(r)),te(()=>l.hideWeekdays,se),te(()=>m.value,()=>{m.value>90&&console.warn("Vue Cal: high cell count detected. Performance may degrade when interactions are enabled.")}),te(()=>l.watchRealTime,r=>{r&&l.time?e():P=clearTimeout(P)}),z(),l.time&&l.watchRealTime&&e(),Be(()=>P=clearTimeout(P)),{now:N,id:p,broaderView:f,narrowerView:t,title:C,viewDate:x,start:K,end:o,extendedStart:q,extendedEnd:_,firstCellDate:v,lastCellDate:u,containsToday:T,selectedDate:Z,cellDates:c,cols:g,rows:h,events:pe,transitionDirection:s,switch:(r,E)=>F(r,!0,E),broader:L,narrower:W,previous:G,next:n,navigate:d,goToToday:i,updateViewDate:M,updateSelectedDate:j,scrollToCurrentTime:X,scrollToTime:ee,scrollTop:Fe,createEvent:We,deleteEvent:xe,get isDay(){return p.value==="day"},get isDays(){return p.value==="days"},get isWeek(){return p.value==="week"},get isMonth(){return p.value==="month"},get isYear(){return p.value==="year"},get isYears(){return p.value==="years"}}},Me=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ve=["January","February","March","April","May","June","July","August","September","October","November","December"],Oe="Years",ke="Year",Ye="Month",Se="Week",Ce="Days",je="Day",ze="Today",Pe="No Event",Re="All-day",$e="Delete",Ae="Create an event",Le="dddd, MMMM D, YYYY",Ie="am",He="pm",we={weekDays:Me,months:Ve,years:Oe,year:ke,month:Ye,week:Se,days:Ce,day:je,today:ze,noEvent:Pe,allDay:Re,deleteEvent:$e,createEvent:Ae,dateFormat:Le,am:Ie,pm:He},tt=Object.freeze(Object.defineProperty({__proto__:null,allDay:Re,am:Ie,createEvent:Ae,dateFormat:Le,day:je,days:Ce,default:we,deleteEvent:$e,month:Ye,months:Ve,noEvent:Pe,pm:He,today:ze,week:Se,weekDays:Me,year:ke,years:Oe},Symbol.toStringTag,{value:"Module"})),ye=de({texts:{...B.texts},dateUtils:be(B.texts,we)}),rt=({props:l,emit:a,attrs:D,vuecalEl:I,uid:R})=>{const Y=de({uid:R,emit:a,texts:{...ye.texts},dateUtils:{...ye.dateUtils},now:new Date,config:{},eventsManager:{},view:{},dnd:{},touch:{isDraggingCell:!1,isDraggingEvent:!1,isResizingEvent:!1,currentHoveredCell:null}});return Y.dateUtils=be(Object.assign(B.texts,Y.texts),we),Y.config=qe(Y,l,D),Y.eventsManager=Ue(Y),Y.view=et(Y,I),Y.dnd=Qe(Y),Y},{addDatePrototypes:it,removeDatePrototypes:ot,updateTexts:lt,addDays:ut,subtractDays:ct,addHours:dt,subtractHours:vt,addMinutes:ft,subtractMinutes:gt,getWeek:mt,isToday:Dt,isSameDate:ht,isInRange:_t,isLeapYear:yt,getPreviousFirstDayOfWeek:wt,stringToDate:pt,dateToMinutes:Et,countDays:Tt,datesInSameTimeStep:bt,isValid:Mt,formatDate:Vt,formatDateLite:Ot,formatTime:kt,formatTimeLite:Yt,formatMinutes:St}=ye.dateUtils;export{ut as a,it as b,Tt as c,at as d,Ke as e,Vt as f,st as m,Te as p,pt as s,rt as u,Ge as w};
